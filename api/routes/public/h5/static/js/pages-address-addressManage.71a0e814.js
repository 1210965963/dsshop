(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-address-addressManage"],{"0f4b":function(e,t,a){"use strict";a.r(t);var n=a("a81c"),i=a.n(n);for(var s in n)"default"!==s&&function(e){a.d(t,e,(function(){return n[e]}))}(s);t["default"]=i.a},"1c02":function(e,t,a){"use strict";var n=a("ee27");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("2edd")),s={getList:function(e,t,a){i.default.setGetMessage("shipping",e,"加载中",(function(e){t(e)}),(function(e){uni.showToast({title:e.message,icon:"none",duration:2e3})}))},getOne:function(e,t,a){i.default.setPostMessage("shippingOne",e,"加载中",(function(e){t(e)}),(function(e){uni.showToast({title:e.message,icon:"none",duration:2e3})}))},getDetails:function(e,t,a,n){i.default.setGetMessage("shipping/"+e,t,"加载中",(function(e){a(e)}),(function(e){uni.showToast({title:e.message,icon:"none",duration:2e3})}))},createSubmit:function(e,t,a){i.default.setPostMessage("shipping",e,"处理中",(function(e){t(e)}),(function(e){uni.showToast({title:e.message,icon:"none",duration:2e3})}))},updateSubmit:function(e,t,a){i.default.setPostMessage("shipping/"+e.id,e,"处理中",(function(e){t(e)}),(function(e){uni.showToast({title:e.message,icon:"none",duration:2e3})}))},deleteSubmit:function(e,t,a){i.default.setPostMessage("shippingDelete/"+e,{},"处理中",(function(e){t(e)}),(function(e){uni.showToast({title:e.message,icon:"none",duration:2e3})}))},checkSubmit:function(e,t,a){i.default.setPostMessage("shippingCheck",e,"处理中",(function(e){t(e)}),(function(e){uni.showToast({title:e.message,icon:"none",duration:2e3})}))}};t.default=s},"2edd":function(e,t,a){(function(t){function n(e,t,a,n,i,s){this.requestLoading(e,t,a,n,"",i,s)}function i(e,t,a,n){this.requestLoading(e,"get",t,"","",a,n)}function s(e,t,a,n,i){this.requestLoading(e,"get",t,"",a,n,i)}function o(e,t,a,n){this.requestLoading(e,"post",t,"","",a,n)}function u(e,t,a,n,i){this.requestLoading(e,"post",t,"",a,n,i)}function c(e,t,a,n){this.requestLoading(e,"put",t,"","",a,n)}function d(e,t,a,n,i){this.requestLoading(e,"put",t,"",a,n,i)}function r(e,t,a,n){this.requestLoading(e,"delete",t,"","",a,n)}function l(e,t,a,n,i){this.requestLoading(e,"delete",t,"",a,n,i)}function f(e){return decodeURIComponent((new RegExp("[?|&]"+e+"=([^&;]+?)(&|#|;|$)").exec(location.href)||[,""])[1].replace(/\+/g,"%20"))||null}function p(){var e=uni.getStorageSync("applyDsshopSecret");uni.login({success:function(a){a.code?uni.request({url:e.host+"wxlogin",data:{code:a.code},method:"POST",header:{"Content-Type":"application/json","apply-secret":uni.getStorageSync("applyDsshopSecret").secret},success:function(e){200===e.statusCode?e.data.openid&&(uni.setStorageSync("applyDsshopSession_key",e.data.session_key),uni.setStorageSync("applyDsshopOpenid",e.data.openid)):uni.showToast({icon:"none",title:e.data.message,duration:2e3})},fail:function(e){uni.showToast({title:"服务器无响应",duration:2e3})}}):t.log("无响应")}})}function g(e,t,a,n,i,s,o){uni.showNavigationBarLoading(),""!=i&&uni.showLoading({title:i});var u=uni.getStorageSync("dsshopApplytoken");f("api_token")&&(u=f("api_token")),uni.request({url:uni.getStorageSync("applyDsshopSecret").host+e,data:a,header:n||{"content-type":"application/json","apply-secret":uni.getStorageSync("applyDsshopSecret").secret,openid:uni.getStorageSync("applyDsshopOpenid"),Authorization:"Bearer "+u},method:t||"get",success:function(e){uni.hideNavigationBarLoading(),""!=i&&uni.hideLoading(),200==e.statusCode?s(e.data):500==e.statusCode?(o({message:"服务器异常，请重新尝试"}),p()):302==e.statusCode?(o({message:"登录超时，请重新登录"}),p()):401==e.statusCode?o({message:e.data.message}):o({message:"服务器异常，请重新尝试"})},fail:function(e){uni.hideNavigationBarLoading(),""!=i&&uni.hideLoading(),o({message:"服务器异常"})},complete:function(e){}})}a("4d63"),a("ac1f"),a("25f0"),a("5319"),e.exports={request:n,setGet:i,setGetMessage:s,setPost:o,setPostMessage:u,setPut:c,setPutMessage:d,setDelete:r,setDeleteMessage:l,requestLoading:g}}).call(this,a("5a52")["default"])},"7c0d":function(e,t,a){"use strict";a.r(t);var n=a("ebcb"),i=a("0f4b");for(var s in i)"default"!==s&&function(e){a.d(t,e,(function(){return i[e]}))}(s);a("84a2");var o,u=a("f0c5"),c=Object(u["a"])(i["default"],n["b"],n["c"],!1,null,"6b818f14",null,!1,n["a"],o);t["default"]=c.exports},"84a2":function(e,t,a){"use strict";var n=a("ee31"),i=a.n(n);i.a},a81c:function(e,t,a){"use strict";var n=a("ee27");a("a9e3"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("1c02")),s={data:function(){return{addressData:{name:"",cellphone:"",location:"选择地址",address:"",latitude:"",longitude:"",house:"",default:!1}}},onLoad:function(e){var t="新增收货地址";"edit"===e.type&&(t="编辑收货地址",this.addressData=JSON.parse(e.data)),e.sid&&(this.addressData.good_indent_id=Number(e.sid)),this.manageType=e.type,uni.setNavigationBarTitle({title:t})},methods:{switchChange:function(e){this.addressData.default=e.detail},chooseLocation:function(){var e=this;uni.chooseLocation({success:function(t){e.addressData.location=t.name,e.addressData.address=t.address,e.addressData.latitude=t.latitude,e.addressData.longitude=t.longitude},fail:function(e){}})},confirm:function(){var e=this,t=this.addressData;t.name?/(^1[3|4|5|7|8][0-9]{9}$)/.test(t.cellphone)?t.location?t.house?(t.cellphone=Number(t.cellphone),t.id?i.default.updateSubmit(t,(function(t){e.$api.prePage().refreshList(),e.$api.msg("地址".concat("edit"==e.manageType?"修改":"添加","成功")),setTimeout((function(){uni.navigateBack()}),800)})):i.default.createSubmit(t,(function(t){e.$api.prePage().refreshList(),e.$api.msg("地址".concat("edit"==e.manageType?"修改":"添加","成功")),setTimeout((function(){uni.navigateBack()}),800)}))):this.$api.msg("请填写门牌号信息"):this.$api.msg("请在地图选择所在位置"):this.$api.msg("请输入正确的手机号码"):this.$api.msg("请填写收货人姓名")}}};t.default=s},ebcb:function(e,t,a){"use strict";var n,i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"content"},[a("v-uni-view",{staticClass:"row b-b"},[a("v-uni-text",{staticClass:"tit"},[e._v("联系人")]),a("v-uni-input",{staticClass:"input",attrs:{type:"text",placeholder:"收货人姓名","placeholder-class":"placeholder"},model:{value:e.addressData.name,callback:function(t){e.$set(e.addressData,"name",t)},expression:"addressData.name"}})],1),a("v-uni-view",{staticClass:"row b-b"},[a("v-uni-text",{staticClass:"tit"},[e._v("手机号")]),a("v-uni-input",{staticClass:"input",attrs:{type:"number",placeholder:"收货人手机号码","placeholder-class":"placeholder",maxlength:"11"},model:{value:e.addressData.cellphone,callback:function(t){e.$set(e.addressData,"cellphone",t)},expression:"addressData.cellphone"}})],1),a("v-uni-view",{staticClass:"row b-b"},[a("v-uni-text",{staticClass:"tit"},[e._v("地址")]),a("v-uni-text",{staticClass:"input",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.chooseLocation.apply(void 0,arguments)}}},[e._v(e._s(e.addressData.location)),e.addressData.address?[e._v("("+e._s(e.addressData.address)+")")]:e._e()],2),a("v-uni-text",{staticClass:"yticon icon-shouhuodizhi"})],1),a("v-uni-view",{staticClass:"row b-b"},[a("v-uni-text",{staticClass:"tit"},[e._v("门牌号")]),a("v-uni-input",{staticClass:"input",attrs:{type:"text",placeholder:"楼号、门牌","placeholder-class":"placeholder"},model:{value:e.addressData.house,callback:function(t){e.$set(e.addressData,"house",t)},expression:"addressData.house"}})],1),a("v-uni-button",{staticClass:"add-btn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.confirm.apply(void 0,arguments)}}},[e._v("提交")])],1)},s=[];a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return s})),a.d(t,"a",(function(){return n}))},ee31:function(e,t,a){var n=a("f995");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var i=a("4f06").default;i("3fb000e6",n,!0,{sourceMap:!1,shadowMode:!1})},f995:function(e,t,a){var n=a("24fb");t=n(!1),t.push([e.i,'@charset "UTF-8";\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 行为相关颜色 */\n/* 文章场景相关 */uni-page-body[data-v-6b818f14]{background:#f8f8f8;padding-top:%?16?%}.row[data-v-6b818f14]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;position:relative;padding:0 %?30?%;height:%?110?%;background:#fff}.row .tit[data-v-6b818f14]{-webkit-flex-shrink:0;flex-shrink:0;width:%?120?%;font-size:%?30?%;color:#303133}.row .input[data-v-6b818f14]{-webkit-box-flex:1;-webkit-flex:1;flex:1;font-size:%?30?%;color:#303133}.row .icon-shouhuodizhi[data-v-6b818f14]{font-size:%?36?%;color:#909399}.default-row[data-v-6b818f14]{margin-top:%?16?%}.default-row .tit[data-v-6b818f14]{-webkit-box-flex:1;-webkit-flex:1;flex:1}.default-row uni-switch[data-v-6b818f14]{-webkit-transform:translateX(%?16?%) scale(.9);transform:translateX(%?16?%) scale(.9)}.add-btn[data-v-6b818f14]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;width:%?690?%;height:%?80?%;margin:%?60?% auto;font-size:%?32?%;color:#fff;background-color:#fa436a;border-radius:%?10?%;box-shadow:1px 2px 5px rgba(219,63,96,.4)}body.?%PAGE?%[data-v-6b818f14]{background:#f8f8f8}',""]),e.exports=t}}]);