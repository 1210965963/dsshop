(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-422f"],{"8I1p":function(t,a,e){},B4CQ:function(t,a,e){},BZpO:function(t,a,e){"use strict";e.r(a);var n=e("pNQy"),i=e("SPtI"),r=e("7Qib"),l={name:"StatisticsVisit",components:{StackedArea:n.a},data:function(){return{listLoading:!1,options:[],analyze_loading:!1,payData:[],payExcelData:[],payDate:0,payShowDate:"",pay:[{value:0,lable:"今日"},{value:7,lable:"最近7天"},{value:30,lable:"最近30天"}]}},created:function(){this.getPay()},methods:{getPay:function(){var t=this;this.analyze_loading=!0,this.payShowDate=Object(r.d)(this.payDate)+"至"+Object(r.d)(1),Object(i.d)({date:this.payDate}).then(function(a){t.payData=a.data;var e={};for(var n in t.payExcelData=[],t.payData.map(function(t){e[t.date]||(e[t.date]={}),e[t.date]=[0,0,0,0,0,t.date],"下单笔数"===t.country?e[t.date][0]=t.value:"付款笔数"===t.country?e[t.date][1]=t.value:"付款金额"===t.country?e[t.date][2]=t.value:"退款笔数"===t.country?e[t.date][3]=t.value:"退款金额"===t.country&&(e[t.date][4]=t.value)}),e)t.payExcelData.push([e[n][0],e[n][1],e[n][2],e[n][3],e[n][4],e[n][5]]);t.analyze_loading=!1})},setDate:function(t){"pay"===t&&(this.payShowDate=Object(r.d)(this.payDate)+"至"+Object(r.d)(1),this.getPay())},handleDownload:function(t){var a=this;this.listLoading=!0,Promise.all([e.e("chunk-0d49"),e.e("chunk-9623")]).then(e.bind(null,"S/jZ")).then(function(e){var n=[],i=[],r="";"pay"===t&&(n=["下单笔数","付款笔数","付款金额","退款笔数","退款金额","时间"],r="交易分析",i=a.payExcelData),e.export_json_to_excel({header:n,data:i,filename:r}),a.listLoading=!1})}}},o=(e("ig5t"),e("KHd+")),s=Object(o.a)(l,function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticClass:"dashboard-editor-container"},[e("el-row",[e("el-col",{staticStyle:{"padding-bottom":"20px"},attrs:{span:24}},[e("el-card",{attrs:{shadow:"hover"}},[e("div",{staticClass:"title"},[e("h3",[t._v("整体分析")]),t._v(" "),e("div",{staticClass:"right",on:{click:function(a){t.handleDownload("pay")}}},[t._v("下载")]),t._v(" "),e("div",[e("el-select",{attrs:{placeholder:"请选择"},on:{change:function(a){t.setDate("pay")}},model:{value:t.payDate,callback:function(a){t.payDate=a},expression:"payDate"}},t._l(t.pay,function(t){return e("el-option",{key:t.value,attrs:{label:t.lable,value:t.value}})})),t._v(" "),e("span",{staticClass:"date"},[t._v(t._s(t.payShowDate))])],1)]),t._v(" "),e("stacked-area",{directives:[{name:"loading",rawName:"v-loading",value:t.analyze_loading,expression:"analyze_loading"}],attrs:{"char-data":t.payData,id:"c1"}})],1)],1)],1)],1)},[],!1,null,"bf06da92",null);s.options.__file="pay.vue";a.default=s.exports},H92S:function(t,a,e){"use strict";var n=e("B4CQ");e.n(n).a},SPtI:function(t,a,e){"use strict";e.d(a,"b",function(){return i}),e.d(a,"c",function(){return r}),e.d(a,"e",function(){return l}),e.d(a,"a",function(){return o}),e.d(a,"d",function(){return s});var n=e("t3Un");function i(t){return Object(n.a)({url:"statistic/behavior",method:"get",params:t})}function r(t){return Object(n.a)({url:"statistic/keep",method:"get",params:t})}function l(t){return Object(n.a)({url:"statistic/source",method:"get",params:t})}function o(t){return Object(n.a)({url:"statistic/age_and_sex",method:"get",params:t})}function s(t){return Object(n.a)({url:"statistic/pay",method:"get",params:t})}},ig5t:function(t,a,e){"use strict";var n=e("8I1p");e.n(n).a},pNQy:function(t,a,e){"use strict";var n=e("ma/q"),i={props:{charData:{type:Array,default:function(){return{data:[]}}},width:{type:Number,default:1200},height:{type:Number,default:500},id:{type:String,required:!0},title:{type:String,default:null}},data:function(){return{areaPlot:null,ds:null,dv:null}},watch:{charData:function(t,a){this.drawChart(t)}},methods:{drawChart:function(){var t=this.charData;null===this.areaPlot?(this.areaPlot=new n.e(this.id,{height:this.height,width:this.width,title:{visible:!0,text:this.title},padding:"auto",forceFit:!0,data:t,xField:"date",yField:"value",stackField:"country",yAxis:{type:"dateTime",tickCount:5},legend:{visible:!0,position:"right-top"},responsive:!0}),this.areaPlot.render()):this.areaPlot.changeData(t)}}},r=(e("H92S"),e("KHd+")),l=Object(r.a)(i,function(){var t=this.$createElement;return(this._self._c||t)("div",{attrs:{id:this.id}})},[],!1,null,null,null);l.options.__file="StackedArea.vue";a.a=l.exports}}]);