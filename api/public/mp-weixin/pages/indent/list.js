(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/indent/list"],{"1f01":function(t,e,n){"use strict";var o=n("4b22"),a=n.n(o);a.a},"4b22":function(t,e,n){},6504:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return o}));var o={uniLoadMore:function(){return n.e("components/uni-load-more/uni-load-more").then(n.bind(null,"25ed"))}},a=function(){var t=this,e=t.$createElement,n=(t._self._c,t.__map(t.list,(function(e,n){var o=t.__get_orig(e),a=t.__map(e.goods_list,(function(e,n){var o=t.__get_orig(e),a=t._f("smallImage")(e.img);return{$orig:o,f0:a}})),r=t._f("1000")(e.total);return{$orig:o,l0:a,f1:r}})));t.$mp.data=Object.assign({},{$root:{l1:n}})},r=[]},"778c":function(t,e,n){"use strict";(function(t){n("18f9");o(n("66fd"));var e=o(n("ed0c"));function o(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=n,t(e.default)}).call(this,n("543d")["createPage"])},"8dd8":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(n("a34a")),a=n("26cb"),r=i(n("f2c2"));function i(t){return t&&t.__esModule?t:{default:t}}function c(t,e,n,o,a,r,i){try{var c=t[r](i),u=c.value}catch(s){return void n(s)}c.done?e(u):Promise.resolve(u).then(o,a)}function u(t){return function(){var e=this,n=arguments;return new Promise((function(o,a){var r=t.apply(e,n);function i(t){c(r,o,a,i,u,"next",t)}function u(t){c(r,o,a,i,u,"throw",t)}i(void 0)}))}}function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){f(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var d=function(){n.e("components/uni-load-more/uni-load-more").then(function(){return resolve(n("25ed"))}.bind(null,n)).catch(n.oe)},p=function(){n.e("components/empty").then(function(){return resolve(n("5a28"))}.bind(null,n)).catch(n.oe)},h={components:{uniLoadMore:d,empty:p},data:function(){return{CustomBar:0,tabCurrentIndex:0,page:1,modalName:"",swiperTab:!1,loadingType:!1,list:[],navList:[{state:0,text:"全部"},{state:1,text:"待付款"},{state:2,text:"待发货"},{state:3,text:"待收货"},{state:5,text:"已完成"}]}},onLoad:function(t){t.state&&(this.tabCurrentIndex=t.state)},onShow:function(){this.loginCheck(),this.loadData()},computed:{},methods:l(l({},(0,a.mapMutations)(["loginCheck"])),{},{loadData:function(){var e=arguments,n=this;return u(o.default.mark((function a(){var i,c,u;return o.default.wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(i=e.length>0&&void 0!==e[0]?e[0]:"add",c=e.length>1?e[1]:void 0,"refresh"===i&&(n.page=1,n.list=[]),"add"!==i){o.next=9;break}if("nomore"!==n.loadingType){o.next=6;break}return o.abrupt("return");case 6:n.loadingType="loading",o.next=10;break;case 9:n.loadingType="more";case 10:return u=n,o.next=13,r.default.getList({limit:5,page:u.page,index:n.tabCurrentIndex,sort:"+created_at"},(function(t){u.list=u.list.concat(t.data),t.last_page>u.page?(u.page++,u.loadingType="more"):u.loadingType="nomore",u.list.forEach((function(t){switch(t.state){case 1:t.class="text-orange";break;case 2:t.class="text-red";break;case 3:t.class="text-green";break;case 4:t.class="text-brown";break}t.goods_list.forEach((function(t){t.good_sku&&(t.specification="",t.good_sku.product_sku.forEach((function(e){t.specification?t.specification+=e.value+";":t.specification=e.value+";"})),t.specification=t.specification.substr(0,t.specification.length-1))}))}))}));case 13:"refresh"===i&&(u.loading=!1,setTimeout((function(){u.loading=!0}),500),1==c?t.hideLoading():t.stopPullDownRefresh());case 14:case"end":return o.stop()}}),a)})))()},tabClick:function(t){this.tabCurrentIndex=t,this.loadData("refresh")},deleteOrder:function(e){var n=this;t.showModal({title:"提示",content:"是否确认删除订单？",success:function(o){o.confirm&&r.default.destroy(n.list[e].id,(function(o){n.list.splice(e,1),n.$api.msg("删除成功"),t.hideLoading()}))}})},goPay:function(e){t.navigateTo({url:"/pages/money/pay?id="+e.id})},cancelOrder:function(e){var n=this;t.showModal({title:"提示",content:"是否确认取消订单？",success:function(t){t.confirm&&r.default.cancel(e.id,(function(t){n.$api.msg("操作成功"),n.refreshOderList()}))}})},goShowOrder:function(e){t.navigateTo({url:"/pages/indent/detail?id=".concat(e.id)})},showModal:function(t){this.modalName=t.currentTarget.dataset.target},hideModal:function(t){this.modalName=null},confirmReceipt:function(e){var n=this;t.showModal({title:"提示",content:"是否确认收货？",success:function(t){t.confirm&&r.default.receipt(e.id,(function(t){n.$api.msg("操作成功"),n.refreshOderList()}))}})},onPullDownRefresh:function(){this.loadData("refresh")},onReachBottom:function(){this.loadData()},refreshOderList:function(){this.loadData("refresh")}})};e.default=h}).call(this,n("543d")["default"])},b1bb:function(t,e,n){"use strict";n.r(e);var o=n("8dd8"),a=n.n(o);for(var r in o)"default"!==r&&function(t){n.d(e,t,(function(){return o[t]}))}(r);e["default"]=a.a},ed0c:function(t,e,n){"use strict";n.r(e);var o=n("6504"),a=n("b1bb");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);n("1f01");var i,c=n("f0c5"),u=Object(c["a"])(a["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],i);e["default"]=u.exports}},[["778c","common/runtime","common/vendor"]]]);