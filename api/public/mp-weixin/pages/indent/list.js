(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/indent/list"],{"1f01":function(t,e,n){"use strict";var o=n("4b22"),a=n.n(o);a.a},"4b22":function(t,e,n){},6504:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return o}));var o={uniLoadMore:function(){return n.e("components/uni-load-more/uni-load-more").then(n.bind(null,"25ed"))}},a=function(){var t=this,e=t.$createElement,n=(t._self._c,t.__map(t.list,(function(e,n){var o=t.__get_orig(e),a=t.__map(e.goods_list,(function(e,n){var o=t.__get_orig(e),a=t._f("smallImage")(e.img);return{$orig:o,f0:a}})),i=e.goods_list.length,r=t._f("1000")(e.total);return{$orig:o,l0:a,g0:i,f1:r}})));t.$mp.data=Object.assign({},{$root:{l1:n}})},i=[]},"778c":function(t,e,n){"use strict";(function(t,e){var o=n("4ea4");n("18f9");o(n("66fd"));var a=o(n("ed0c"));t.__webpack_require_UNI_MP_PLUGIN__=n,e(a.default)}).call(this,n("bc2e")["default"],n("543d")["createPage"])},"8dd8":function(t,e,n){"use strict";(function(t){var o=n("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=o(n("2eee")),i=o(n("c973")),r=o(n("9523")),c=n("26cb"),s=o(n("f2c2"));function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){(0,r.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var d={components:{uniLoadMore:function(){n.e("components/uni-load-more/uni-load-more").then(function(){return resolve(n("25ed"))}.bind(null,n)).catch(n.oe)},empty:function(){n.e("components/empty").then(function(){return resolve(n("5a28"))}.bind(null,n)).catch(n.oe)}},data:function(){return{CustomBar:0,tabCurrentIndex:0,page:1,modalName:"",swiperTab:!1,loadingType:!1,list:[],navList:[{state:0,text:"全部"},{state:1,text:"待付款"},{state:2,text:"待发货"},{state:3,text:"待收货"},{state:5,text:"已完成"}]}},onLoad:function(t){t.state&&(this.tabCurrentIndex=t.state)},onShow:function(){this.loginCheck(),this.loadData()},computed:{},methods:l(l({},(0,c.mapMutations)(["loginCheck"])),{},{loadData:function(){var e=arguments,n=this;return(0,i.default)(a.default.mark((function o(){var i,r,c;return a.default.wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(i=e.length>0&&void 0!==e[0]?e[0]:"add",r=e.length>1?e[1]:void 0,"refresh"===i&&(n.page=1,n.list=[]),"add"!==i){o.next=9;break}if("nomore"!==n.loadingType){o.next=6;break}return o.abrupt("return");case 6:n.loadingType="loading",o.next=10;break;case 9:n.loadingType="more";case 10:return c=n,o.next=13,s.default.getList({limit:5,page:c.page,index:n.tabCurrentIndex,sort:"+created_at"},(function(t){c.list=c.list.concat(t.data),t.last_page>c.page?(c.page++,c.loadingType="more"):c.loadingType="nomore",c.list.forEach((function(t){switch(t.state){case 1:t.class="text-orange";break;case 2:t.class="text-red";break;case 3:t.class="text-green";break;case 4:t.class="text-brown";break}t.goods_list.forEach((function(t){t.good_sku&&(t.specification="",t.good_sku.product_sku.forEach((function(e){t.specification?t.specification+=e.value+";":t.specification=e.value+";"})),t.specification=t.specification.substr(0,t.specification.length-1))}))}))}));case 13:"refresh"===i&&(c.loading=!1,setTimeout((function(){c.loading=!0}),500),1==r?t.hideLoading():t.stopPullDownRefresh());case 14:case"end":return o.stop()}}),o)})))()},tabClick:function(t){this.tabCurrentIndex=t,this.loadData("refresh")},deleteOrder:function(e){var n=this;t.showModal({title:"提示",content:"是否确认删除订单？",success:function(o){o.confirm&&s.default.destroy(n.list[e].id,(function(o){n.list.splice(e,1),n.$api.msg("删除成功"),t.hideLoading()}))}})},goPay:function(e){t.navigateTo({url:"/pages/money/pay?id="+e.id})},cancelOrder:function(e){var n=this;t.showModal({title:"提示",content:"是否确认取消订单？",success:function(t){t.confirm&&s.default.cancel(e.id,(function(t){n.$api.msg("操作成功"),n.refreshOderList()}))}})},goShowOrder:function(e){t.navigateTo({url:"/pages/indent/detail?id=".concat(e.id)})},showModal:function(t){this.modalName=t.currentTarget.dataset.target},hideModal:function(t){this.modalName=null},confirmReceipt:function(e){var n=this;t.showModal({title:"提示",content:"是否确认收货？",success:function(t){t.confirm&&s.default.receipt(e.id,(function(t){n.$api.msg("操作成功"),n.refreshOderList()}))}})},onPullDownRefresh:function(){this.loadData("refresh")},onReachBottom:function(){this.loadData()},refreshOderList:function(){this.loadData("refresh")}})};e.default=d}).call(this,n("543d")["default"])},b1bb:function(t,e,n){"use strict";n.r(e);var o=n("8dd8"),a=n.n(o);for(var i in o)["default"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(i);e["default"]=a.a},ed0c:function(t,e,n){"use strict";n.r(e);var o=n("6504"),a=n("b1bb");for(var i in a)["default"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(i);n("1f01");var r=n("f0c5"),c=Object(r["a"])(a["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],void 0);e["default"]=c.exports}},[["778c","common/runtime","common/vendor"]]]);