(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-userinfo-email"],{"281e":function(a,t,e){"use strict";var i=e("eed4"),n=e.n(i);n.a},7681:function(a,t,e){var i=e("24fb");t=i(!1),t.push([a.i,'@charset "UTF-8";\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 行为相关颜色 */\n/* 文章场景相关 */uni-page-body[data-v-6f2b23cd]{background:#f8f8f8}body.?%PAGE?%[data-v-6f2b23cd]{background:#f8f8f8}',""]),a.exports=t},a20e:function(a,t,e){"use strict";e.d(t,"b",(function(){return i})),e.d(t,"c",(function(){return n})),e.d(t,"a",(function(){}));var i=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("v-uni-view",{staticClass:"container"},[e("v-uni-form",[a.data.oldEmail?e("v-uni-view",{staticClass:"cu-form-group"},[e("v-uni-view",{staticClass:"title"},[a._v("当前绑定邮箱")]),a._v(a._s(a.data.oldEmail))],1):a._e(),e("v-uni-view",{staticClass:"cu-form-group"},[e("v-uni-view",{staticClass:"title"},[a._v("新邮箱")]),e("v-uni-input",{attrs:{placeholder:"请输入新邮箱",name:"email"},model:{value:a.data.email,callback:function(t){a.$set(a.data,"email",t)},expression:"data.email"}})],1),e("v-uni-view",{staticClass:"cu-form-group"},[e("v-uni-view",{staticClass:"title"},[a._v("验证码")]),e("v-uni-input",{attrs:{maxlength:"5",placeholder:"请输入验证码",name:"code"},model:{value:a.data.code,callback:function(t){a.$set(a.data,"code",t)},expression:"data.code"}}),e("v-uni-button",{staticClass:"cu-btn bg-red shadow round getcode",attrs:{disabled:a.disabled},on:{click:function(t){arguments[0]=t=a.$handleEvent(t),a.getCode.apply(void 0,arguments)}}},[a._v(a._s(a.codename+a.seconds+a.unit))])],1),e("v-uni-view",{staticClass:" flex flex-direction padding"},[e("v-uni-button",{staticClass:"cu-btn round bg-red shadow lg",on:{click:function(t){arguments[0]=t=a.$handleEvent(t),a.verifyEmail.apply(void 0,arguments)}}},[a._v("提交")])],1)],1)],1)},n=[]},b2db:function(a,t,e){"use strict";e.r(t);var i=e("a20e"),n=e("c604");for(var s in n)["default"].indexOf(s)<0&&function(a){e.d(t,a,(function(){return n[a]}))}(s);e("281e");var d=e("f0c5"),o=Object(d["a"])(n["default"],i["b"],i["c"],!1,null,"6f2b23cd",null,!1,i["a"],void 0);t["default"]=o.exports},b4f7:function(a,t,e){"use strict";e("7a82");var i=e("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,e("ac1f"),e("00b4");var n=i(e("5530")),s=i(e("e7e4")),d=e("26cb"),o={data:function(){return{codename:"获取验证码",disabled:!1,unit:"",seconds:"",data:{oldEmail:"",email:"",code:""}}},onLoad:function(a){a.email?(this.data.oldEmail=a.email,uni.setNavigationBarTitle({title:"修改邮箱"})):uni.setNavigationBarTitle({title:"绑定邮箱"}),this.loginCheck()},methods:(0,n.default)((0,n.default)({},(0,d.mapMutations)(["loginCheck"])),{},{getCode:function(){var a=this;if(!this.data.email)return this.$api.msg("请填写邮箱"),!1;if(!/^[A-Za-z0-9\u4e00-\u9fa5]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/.test(this.data.email))return this.$api.msg("邮箱格式有误"),!1;s.default.emailCode(this.data,(function(t){a.$api.msg("发送成功"),a.seconds=60,a.codename="",a.unit="s",a.disabled=!0,a.timer=setInterval((function(){a.seconds=a.seconds-1,0==a.seconds&&(clearInterval(a.timer),a.seconds="",a.codename="获取验证码",a.unit="",a.disabled=!1)}),1e3)}))},verifyEmail:function(){var a=this.data,t=this;if(!a.email)return this.$api.msg("请填写邮箱"),!1;return/^[A-Za-z0-9\u4e00-\u9fa5]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/.test(a.email)?a.code?5!=a.code.length?(this.$api.msg("验证码长度有误"),!1):void s.default.verifyEmail(a,(function(a){t.$api.msg("绑定成功"),setTimeout((function(){uni.navigateBack({delta:1})}),800)})):(this.$api.msg("验证码必须"),!1):(this.$api.msg("邮箱格式有误"),!1)}})};t.default=o},c604:function(a,t,e){"use strict";e.r(t);var i=e("b4f7"),n=e.n(i);for(var s in i)["default"].indexOf(s)<0&&function(a){e.d(t,a,(function(){return i[a]}))}(s);t["default"]=n.a},eed4:function(a,t,e){var i=e("7681");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[a.i,i,""]]),i.locals&&(a.exports=i.locals);var n=e("4f06").default;n("41a7bbf4",i,!0,{sourceMap:!1,shadowMode:!1})}}]);