{"version":3,"file":"pages/user/js/collect.js","sources":["webpack:///./api/collect.js","webpack:///./pages/user/js/collect.js"],"sourcesContent":["/** +----------------------------------------------------------------------\n * | DSSHOP [ 轻量级易扩展低代码开源商城系统 ]\n * +----------------------------------------------------------------------\n * | Copyright (c) 2020~2023 https://www.dswjcms.com All rights reserved.\n * +----------------------------------------------------------------------\n * | Licensed 未经许可不能去掉DSSHOP相关版权\n * +----------------------------------------------------------------------\n * | Author: Purl <383354826@qq.com>\n * +----------------------------------------------------------------------\n */\nimport request from '@/plugins/request'\nimport Qs from 'qs'\nexport function getList(query) {\n  return request({\n    url: 'collect',\n    method: 'GET',\n    params: query\n  })\n}\nexport function detail(id) {\n  return request({\n    url: 'collect/' + id,\n    method: 'GET'\n  })\n}\nexport function create(data) {\n  data = Qs.parse(data)\n  return request({\n    url: 'collect',\n    method: 'POST',\n    data\n  })\n}\nexport function destroy(id) {\n  return request({\n    url: 'collect/destroy/' + id,\n    method: 'POST'\n  })\n}\n","import {getList, destroy} from '@/api/collect'\nexport default {\n  layout: 'user',\n  head () {\n    return {\n      title: `${this.$t('header.top.collection')}-${this.$t('header.top.personal_center')}`,\n    }\n  },\n  data() {\n    return {\n      loading: true,\n      collectList: [],\n      total: 0,\n      listQuery: {\n        limit: 10,\n        page: 1,\n        sort: '-created_at'\n      }\n    }\n  },\n  mounted() {\n    this.getList()\n  },\n  methods: {\n    async getList(){\n      this.loading = true;\n      await Promise.all([\n        getList(this.listQuery)\n      ]).then(([collectData]) => {\n        this.collectList = collectData.data;\n        this.total = collectData.total;\n        this.loading = false\n      }).catch((error) => {\n        this.loading = false\n      })\n    },\n    destroy(id){\n      this.$confirm(this.$t('hint.whether_confirm', {attribute:this.$t('common.delete') }), this.$t('common.hint'), {\n        confirmButtonText: this.$t('common.confirm'),\n        cancelButtonText: this.$t('common.cancel'),\n        type: 'warning'\n      }).then(() => {\n        destroy(id).then(response => {\n          this.handleFilter();\n          this.$message({\n            message: this.$t('common.success'),\n            type: 'success'\n          });\n        }).catch(() => {\n\n        })\n      }).catch(() => {\n      })\n    },\n    handleFilter() {\n      this.listQuery.page = 1;\n      this.getList()\n    },\n  }\n}\n"],"mappings":";;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACtCA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}