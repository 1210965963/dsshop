{"version":3,"file":"pages/user/notice/js/detail.js","sources":["webpack:///./api/notification.js","webpack:///./pages/user/notice/js/detail.js"],"sourcesContent":["/** +----------------------------------------------------------------------\n * | DSSHOP [ 轻量级易扩展低代码开源商城系统 ]\n * +----------------------------------------------------------------------\n * | Copyright (c) 2020~2023 https://www.dswjcms.com All rights reserved.\n * +----------------------------------------------------------------------\n * | Licensed 未经许可不能去掉DSSHOP相关版权\n * +----------------------------------------------------------------------\n * | Author: Purl <383354826@qq.com>\n * +----------------------------------------------------------------------\n */\nimport request from '@/plugins/request'\nimport Qs from 'qs'\nexport function getList(query) {\n  return request({\n    url: 'notification',\n    method: 'GET',\n    params: query\n  })\n}\nexport function detail(id) {\n  return request({\n    url: 'notification/detail/' + id,\n    method: 'GET'\n  })\n}\nexport function unread(query) {\n  return request({\n    url: 'notification/unread',\n    method: 'GET',\n    params: query\n  })\n}\nexport function read(data) {\n  data = Qs.parse(data)\n  return request({\n    url: 'notification/read/0',\n    method: 'POST',\n    data\n  })\n}\nexport function destroy(data) {\n  data = Qs.parse(data)\n  return request({\n    url: 'notification/destroy/0',\n    method: 'POST',\n    data\n  })\n}\n","import {detail} from '@/api/notification'\nexport default {\n  layout: 'user',\n  head () {\n    return {\n      title: `${this.$t('header.top.message')}-${this.$t('header.top.personal_center')}`,\n    }\n  },\n  data() {\n    return {\n      loading: true,\n      notice:{}\n    }\n  },\n  mounted() {\n    this.getDetail()\n  },\n  methods: {\n    async getDetail(){\n      if(!$nuxt.$route.query.id){\n        this.$message({\n          message: this.$t('common.arguments'),\n          type: 'error'\n        });\n        $nuxt.$router.go(-1);\n        return false\n      }\n      await Promise.all([\n        detail($nuxt.$route.query.id)\n      ]).then(([notificationData]) => {\n        this.notice = notificationData;\n        this.loading = false\n      }).catch((error) => {\n        this.loading = false\n      })\n    },\n    goBack() {\n      $nuxt.$router.go(-1)\n    },\n    goNavigator(url){\n      // 为了兼容老版本\n      uni.navigateTo({\n        url: url.replace('pages','user')\n      })\n    },\n  }\n}\n"],"mappings":";;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AC/CA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}