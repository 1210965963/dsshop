{"version":3,"file":"pages/category/js/list.js","sources":["webpack:///./api/good.js","webpack:///./pages/category/js/list.js"],"sourcesContent":["/** +----------------------------------------------------------------------\r\n * | DSSHOP [ 轻量级易扩展低代码开源商城系统 ]\r\n * +----------------------------------------------------------------------\r\n * | Copyright (c) 2020~2023 https://www.dswjcms.com All rights reserved.\r\n * +----------------------------------------------------------------------\r\n * | Licensed 未经许可不能去掉DSSHOP相关版权\r\n * +----------------------------------------------------------------------\r\n * | Author: Purl <383354826@qq.com>\r\n * +----------------------------------------------------------------------\r\n */\r\nimport request from '@/plugins/request'\r\nexport function getList(query) {\r\n  return request({\r\n    url: 'good',\r\n    method: 'GET',\r\n    params: query\r\n  })\r\n}\r\nexport function detail(id) {\r\n  return request({\r\n    url: 'good/' + id,\r\n    method: 'GET'\r\n  })\r\n}\r\nexport function goodCategory(query) {\r\n  return request({\r\n    url: 'goodCategory',\r\n    method: 'GET',\r\n    params: query\r\n  })\r\n}\r\n","import {goodCategory as getGoodCategory} from '@/api/good'\r\nexport default {\r\n  data() {\r\n    return {\r\n      goodCategory: []\r\n    }\r\n  },\r\n  async asyncData (ctx) {\r\n    try {\r\n      let [ goodCategoryData ] = await Promise.all([\r\n        getGoodCategory({tree: true})\r\n      ]);\r\n      for(let item of goodCategoryData){\r\n        if(item.children){\r\n          item.level = 3;\r\n          for(let item2 of item.children){\r\n            if(item2.resources){\r\n              item.level = 2\r\n            }\r\n            break\r\n          }\r\n        }\r\n      }\r\n      return {\r\n        goodCategory: goodCategoryData\r\n      }\r\n    } catch(err) {\r\n      ctx.$errorHandler(err)\r\n    }\r\n  },\r\n  head () {\r\n    return {\r\n      title: this.$t('category.all') + '-' + process.env.APP_NAME\r\n    }\r\n  },\r\n  mounted() {\r\n\r\n  },\r\n  methods: {\r\n\r\n  }\r\n}\r\n"],"mappings":";;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AC9BA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AAGA;;;;A","sourceRoot":""}