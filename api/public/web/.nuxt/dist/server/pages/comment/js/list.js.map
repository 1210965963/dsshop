{"version":3,"file":"pages/comment/js/list.js","sources":["webpack:///./api/comment.js","webpack:///./pages/comment/js/list.js"],"sourcesContent":["import request from '@/plugins/request'\r\nimport Qs from 'qs'\r\nexport function detail(id) {\r\n  return request({\r\n    url: 'comment/detail/' + id,\r\n    method: 'GET'\r\n  })\r\n}\r\nexport function good(query) {\r\n  return request({\r\n    url: 'comment/good',\r\n    method: 'GET',\r\n    params: query\r\n  })\r\n}\r\nexport function create(id, data) {\r\n  data = Qs.parse(data)\r\n  return request({\r\n    url: 'comment/' + id,\r\n    method: 'POST',\r\n    data\r\n  })\r\n}\r\n","import {good} from '@/api/comment'\nexport default {\n  data() {\n    return {\n      list: [],\n      imgList: [],\n      listQuery: {\n        limit: 10,\n        page: 1,\n        good_id: 0,\n        sort:'-created_at'\n      },\n      loading: false,\n      total: 0\n    }\n  },\n  mounted() {\n    if(!$nuxt.$route.params.id){\n      this.$message.error('参数有误');\n      $nuxt.$router.go(-1);\n      return false\n    }\n    this.listQuery.good_id = $nuxt.$route.params.id\n    this.getList()\n  },\n  methods: {\n    getList(){\n      this.loading = true;\n      Promise.all([\n        good(this.listQuery)\n      ]).then(([data]) => {\n        this.list = data.data;\n        this.total = data.total;\n        this.loading = false;\n      }).catch((error) => {\n        this.loading = false;\n      })\n    }\n  }\n}\n"],"mappings":";;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;;;;;;;;ACtBA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AAVA;AAYA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAbA;AAxBA;;;;A","sourceRoot":""}