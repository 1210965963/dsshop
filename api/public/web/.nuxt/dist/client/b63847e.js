(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{574:function(e,r,t){"use strict";t.r(r);var n=t(17),o=t(3),c=(t(38),t(16),t(53),t(31),t(27),t(30),t(54),t(18),t(55),t(206)),l=t(210),d=t(104);function f(object,e){var r=Object.keys(object);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(object);e&&(t=t.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),r.push.apply(r,t)}return r}function h(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(r){Object(n.a)(e,r,source[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(source,r))}))}return e}r.default={layout:"login",head:function(){return{title:this.$t("header.top.login")+"-DSSHOP商城-轻量级易扩展低代码开源商城系统"}},asyncData:function(e){return Object(o.a)(regeneratorRuntime.mark((function r(){var t;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t={},r.next=4,Object(l.a)({limit:1,type:2,state:0,sort:"+sort"}).then((function(e){1===e.total&&((t=e.data[0]).url=t.url?t.url.replace("?id=","/"):"")}));case 4:return r.abrupt("return",{banner:t});case 7:r.prev=7,r.t0=r.catch(0),e.$errorHandler(r.t0);case 10:case"end":return r.stop()}}),r,null,[[0,7]])})))()},data:function(){var e=this;return{method:1,ruleForm:{cellphone:"",password:"",remember:!1},loading:!1,rules:{cellphone:[{validator:function(r,t,n){if(""===t)n(new Error(e.$t("hint.error.import",{attribute:e.$t("find_password.cellphone")})));else{/^1[3456789]\d{9}$/.test(t)||n(new Error(e.$t("hint.error.wrong_format",{attribute:e.$t("find_password.cellphone")}))),n()}},trigger:"blur"}],password:[{required:!0,message:this.$t("hint.error.import",{attribute:this.$t("find_password.password")}),trigger:"blur"},{min:5,message:this.$t("find_password.password.length"),trigger:"blur"}]},banner:{}}},beforeDestroy:function(){clearInterval(this.codeTimer)},methods:h(h({},Object(d.b)(["login"])),{},{setMethod:function(e){this.method=e},toLogin:function(){var e=this;this.$refs.ruleForm.validate((function(r){r&&(e.loading=!0,Object(c.f)(e.ruleForm).then((function(r){r.remember=e.ruleForm.remember,e.login(r),e.$message({message:e.$t("find_password.login_successfully"),type:"success"}),e.loading=!1;var t=e.store.get("route");t?(e.store.remove("route"),e.$router.replace({path:t.path,query:t.query})):$nuxt.$router.replace("/user/portal")})).catch((function(){e.loading=!1})))}))}})}}}]);