(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{576:function(e,r,t){"use strict";t.r(r);t(108),t(14),t(54);var o=t(206);r.default={layout:"login",head:function(){return{title:this.$t("header.top.register")+"-DSSHOP商城-轻量级易扩展低代码开源商城系统"}},data:function(){var e=this;return{ruleForm:{cellphone:"",password:"",code:"",rPassword:""},codename:this.$t("find_password.get_code"),seconds:"",unit:"",loading:!1,codeDisabled:!1,rules:{cellphone:[{validator:function(r,t,o){if(""===t)o(new Error(e.$t("hint.error.import",{attribute:e.$t("find_password.cellphone")})));else{/^1[3456789]\d{9}$/.test(t)||o(new Error(e.$t("hint.error.wrong_format",{attribute:e.$t("find_password.cellphone")}))),o()}},trigger:"blur"}],password:[{required:!0,message:this.$t("hint.error.import",{attribute:this.$t("find_password.password")}),trigger:"blur"},{min:5,message:this.$t("find_password.password.length"),trigger:"blur"}],code:[{required:!0,message:this.$t("hint.error.import",{attribute:this.$t("find_password.verification_code")}),trigger:"blur"},{type:"number",message:this.$t("find_password.verification_code.number",{attribute:this.$t("find_password.verification_code")})}],rPassword:[{validator:function(r,t,o){""===t?o(new Error(e.$t("find_password.password.reenter"))):t!==e.ruleForm.password?o(new Error(e.$t("find_password.password.inconformity"))):o()},trigger:"blur"}]}}},methods:{getCode:function(){var e=this;if(!this.ruleForm.cellphone)return this.$message.error(this.$t("hint.error.import",{attribute:this.$t("find_password.cellphone")})),!1;var r=this;Object(o.b)(this.ruleForm).then((function(t){e.seconds=60,e.codename="",e.unit="s",e.codeDisabled=!0,e.timer=setInterval((function(){r.seconds=r.seconds-1,0===r.seconds&&(clearInterval(r.timer),r.seconds="",r.codename=this.$t("find_password.get_code"),r.unit="",r.codeDisabled=!1)}),1e3),t.code&&(r.ruleForm.code=t.code)})).catch((function(){}))},toRegister:function(){var e=this;this.$refs.ruleForm.validate((function(r){r&&(e.loading=!0,Object(o.h)(e.ruleForm).then((function(){e.$message({message:e.$t("find_password.registered_successfully"),type:"success"}),e.loading=!1,$nuxt.$router.replace("/pass/login")})).catch((function(){e.loading=!1})))}))}}}}}]);