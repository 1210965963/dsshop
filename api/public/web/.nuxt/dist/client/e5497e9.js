(window.webpackJsonp=window.webpackJsonp||[]).push([[81,82],{507:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return c})),n.d(e,"c",(function(){return l}));var o=n(8);function r(t){return Object(o.a)({url:"integralDraw",method:"GET",params:t})}function c(t){return Object(o.a)({url:"integralDraw/"+t,method:"GET"})}function l(t){return Object(o.a)({url:"integralWinning/"+t,method:"GET"})}},508:function(t,e,n){var content=n(653);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(12).default)("f9155e7a",content,!0,{sourceMap:!1})},650:function(t,e,n){"use strict";n.r(e);var o={name:"WinningResults",props:{data:{type:Object,default:function(){return{}}},visible:{type:Boolean,default:!1}},data:function(){return{dialogVisible:!1}},mounted:function(){},methods:{close:function(){this.$emit("update:visible",!1)}}},r=(n(652),n(6)),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.visible?n("div",[n("div",{staticClass:"v-modal"}),t._v(" "),n("div",{staticClass:"result-box"},[n("div",{staticClass:"result"},[n("div",{staticClass:"title"},[t._v(t._s(t.data.state?"中奖啦":"未中奖"))]),t._v(" "),n("div",{staticClass:"prize-icon"},[n("el-image",{staticStyle:{"max-width":"120px","max-height":"120px"},attrs:{src:t.data.img,lazy:"",fit:"scale-down"}})],1),t._v(" "),t.data.state?[n("div",{staticClass:"prize-title"},[t._v("恭喜您")]),t._v(" "),n("div",{staticClass:"prize-name"},[t._v("获得了"+t._s(t.data.name))])]:[n("div",{staticClass:"prize-title"},[t._v("很遗憾，大奖与您擦肩而过 请再接再厉!")])]],2),t._v(" "),n("div",{staticClass:"close-box"},[n("i",{staticClass:"el-icon-circle-close",on:{click:t.close}})])])]):t._e()}),[],!1,null,"e1acb00e",null);e.default=component.exports},652:function(t,e,n){"use strict";n(508)},653:function(t,e,n){var o=n(11),r=n(190),c=n(654),l=o(!1),d=r(c);l.push([t.i,".v-modal[data-v-e1acb00e]{z-index:2002}.result-box[data-v-e1acb00e]{position:fixed;top:0;right:0;bottom:0;left:0;overflow:auto;margin:0;z-index:2003}.result-box .result[data-v-e1acb00e]{text-align:center;position:relative;background:#fff;border-radius:2px;box-sizing:border-box;width:500px;margin:10vh auto 10px;background:url("+d+") no-repeat;background-size:100%;height:600px}.result-box .result .title[data-v-e1acb00e]{font-weight:400;color:#fff;padding-top:60px;font-size:38px}.result-box .result .prize-icon[data-v-e1acb00e]{padding-top:120px}.result-box .result .prize-title[data-v-e1acb00e]{margin-top:50px;font-size:33px;font-weight:400;color:#282727;padding:0 40px}.result-box .result .prize-name[data-v-e1acb00e]{font-size:25px;font-weight:400;color:#474c4d;margin-top:10px;padding:0 40px}.result-box .close-box[data-v-e1acb00e]{text-align:center;color:#fff;font-size:40px}.result-box .close-box .el-icon-circle-close[data-v-e1acb00e]{cursor:pointer}",""]),t.exports=l},654:function(t,e,n){t.exports=n.p+"img/result_bg.9403dc8.png"},655:function(t,e,n){t.exports=n.p+"img/integral.8cc6202.png"},656:function(t,e,n){t.exports=n.p+"img/none.948f7c7.png"},668:function(t,e,n){var content=n(698);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(12).default)("0822877e",content,!0,{sourceMap:!1})},696:function(t,e,n){t.exports=n.p+"img/bg3.a5b1ace.png"},697:function(t,e,n){"use strict";n(668)},698:function(t,e,n){var o=n(11),r=n(190),c=n(699),l=o(!1),d=r(c);l.push([t.i,".box[data-v-8c2f4bec]{background:url("+d+") no-repeat;background-size:100%;padding:40px;height:404px;text-align:center}.box .button[data-v-8c2f4bec]{margin-top:25px;width:200px}",""]),t.exports=l},699:function(t,e,n){t.exports=n.p+"img/bg4.ca6bb52.png"},783:function(t,e,n){"use strict";n.r(e);n(18),n(44);var o=n(650),r=n(507),c={name:"DsSlotMachine",components:{winningResults:o.default},props:{data:{type:Object,default:function(){return{}}}},data:function(){return{dialogVisible:!1,prizeResults:{},blocks:[{padding:"25px",imgs:[{src:n(696),width:"100%",height:"100%"}]}],prizes:[],slots:[{speed:20},{speed:20,direction:-1},{speed:20}],defaultConfig:{rowSpacing:"5px"}}},created:function(){var t=this,e="";this.data.integral_prize.forEach((function(o){switch(o.model_type){case"App\\Models\\v1\\GoodSku":e=o.resource.img;break;case"App\\Models\\v1\\IntegralConfiguration":e=n(655);break;default:e=n(656)}t.prizes.push({background:"#ffffff",borderRadius:"10px",fonts:[{text:o.name,fontSize:"12px",lineClamp:2,top:"80px"}],imgs:[{width:"60%",top:"10px",src:e}]})}))},methods:{startCallback:function(){var t=this;if(this.data.tries&&this.data.has_draw>this.data.tries)return this.$message.error("当日抽奖已超过".concat(this.data.tries,"次，请明日再来")),!1;Object(r.c)(this.data.id).then((function(e){t.$refs.myLucky.play(),t.$refs.myLucky.stop(e)}))},endCallback:function(t){t&&(this.prizeResults={state:!0,name:t.fonts[0].text,img:t.imgs[0].src},this.dialogVisible=!0),this.$emit("refresh")}}},l=(n(697),n(6)),component=Object(l.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"box"},[n("SlotMachine",{ref:"myLucky",attrs:{width:"400px",height:"244px",prizes:t.prizes,blocks:t.blocks,slots:t.slots,defaultConfig:t.defaultConfig},on:{end:t.endCallback}}),t._v(" "),n("el-button",{staticClass:"button",attrs:{type:"warning",round:""},on:{click:function(e){return t.startCallback()}}},[t._v("开始抽奖")]),t._v(" "),n("winning-results",{attrs:{visible:t.dialogVisible,data:t.prizeResults},on:{"update:visible":function(e){t.dialogVisible=e}}})],1)}),[],!1,null,"8c2f4bec",null);e.default=component.exports}}]);