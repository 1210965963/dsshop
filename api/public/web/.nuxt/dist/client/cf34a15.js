(window.webpackJsonp=window.webpackJsonp||[]).push([[45,46],{592:function(t,e,n){"use strict";n.r(e);var d=n(7),o=n(3),c=(n(38),n(49),n(13),n(24),n(26),n(18),n(303),n(208),n(137));e.default={layout:"user",head:function(){return{title:"".concat(this.$t("money.pay.order_details"),"-").concat(this.$t("header.top.personal_center"))}},data:function(){return{loading:!0,buttonLoading:!1,total:0,indent:{total:0,good_code:[]},isType:!0,code_type:0}},mounted:function(){this.getDetail()},methods:{getDetail:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if($nuxt.$route.query.id){e.next=4;break}return t.$message({message:t.$t("common.arguments"),type:"error"}),$nuxt.$router.go(-1),e.abrupt("return",!1);case 4:return e.next=6,Promise.all([Object(c.e)($nuxt.$route.query.id)]).then((function(e){var n=Object(d.a)(e,1)[0];t.indent=n,t.total=0;var o=null;t.indent.goods_list.forEach((function(e){t.total+=e.price*e.number,e.good_sku&&(t.code_type=e.good_sku.code_type,o=null,e.good_sku.product_sku.forEach((function(t){o?o+=t.value+";":o=t.value+";"})),e.specification=o.substr(0,o.length-1)),2!==e.good.type&&3!==e.good.type||(t.isType=!1)})),t.total=Number(t.total.toFixed(2)),t.loading=!1})).catch((function(e){t.loading=!1}));case 6:case"end":return e.stop()}}),e)})))()},confirmReceipt:function(){var t=this;this.$confirm(this.$t("hint.whether_confirm",{attribute:this.$t("indent.receiving")}),this.$t("common.hint"),{confirmButtonText:this.$t("common.confirm"),cancelButtonText:this.$t("common.cancel"),type:"warning"}).then((function(){t.buttonLoading=!0,Object(c.j)(t.indent.id).then((function(e){t.buttonLoading=!1,t.$message({message:t.$t("common.success"),type:"success"}),t.getDetail()})).catch((function(){t.buttonLoading=!1}))})).catch((function(){}))},goBack:function(){$nuxt.$router.go(-1)},doCopy:function(t){var e=this;this.$copyText(t).then((function(t){e.$message({message:e.$t("indent.copy"),type:"success"})})).catch((function(t){console.log("失败")}))},goDownload:function(){var t=this;this.buttonLoading=!0,Object(c.f)(this.indent.id).then((function(t){window.open("http://dsshop.test/api/v1/app/indentDownload/"+t)})).finally((function(){t.buttonLoading=!1}))}}}},593:function(t,e,n){var content=n(651);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(15).default)("01f7efc0",content,!0,{sourceMap:!1})},650:function(t,e,n){"use strict";n(593)},651:function(t,e,n){var d=n(14)(!1);d.push([t.i,".specification[data-v-5d4fd88c]{color:#999}.top[data-v-5d4fd88c]{display:flex;flex-direction:row;justify-content:space-between;margin-top:20px}.top .operation[data-v-5d4fd88c]{text-align:right}.right .li[data-v-5d4fd88c]{display:flex;flex-direction:row;justify-content:space-between;font-size:12px;color:#999;line-height:45px}.right .li .name[data-v-5d4fd88c]{text-align:right;flex:1}.right .li .value[data-v-5d4fd88c]{min-width:100px;text-align:right;color:#fa524c}.right .li .total[data-v-5d4fd88c]{position:relative;top:-5px}.right .li .total span[data-v-5d4fd88c]{font-size:30px}.address .min-title[data-v-5d4fd88c]{margin-bottom:20px}.address .li[data-v-5d4fd88c]{display:flex;line-height:25px;font-size:12px}.address .li .name[data-v-5d4fd88c]{width:120px;text-align:right}.address .li .value[data-v-5d4fd88c]{color:#999}.steps-box-time .steps[data-v-5d4fd88c]{display:flex;font-size:12px;line-height:25px;margin-top:5px}.steps-box-time .steps div[data-v-5d4fd88c]{flex:1;text-align:center}.steps-box .title[data-v-5d4fd88c]{color:#fa524c;margin-bottom:10px}.steps-box .steps[data-v-5d4fd88c]{display:flex;border-radius:5px;background-color:#e1e1e1;font-size:12px;line-height:25px}.steps-box .steps .on[data-v-5d4fd88c]{background-color:#fa524c;color:#fff;border-radius:5px}.steps-box .steps div[data-v-5d4fd88c]{flex:1}.steps-box .steps div .chunk[data-v-5d4fd88c]{text-align:center}.code-box .min-title[data-v-5d4fd88c]{line-height:45px}.code-box .code-list[data-v-5d4fd88c]{font-size:12px}.code-box .code-list .li[data-v-5d4fd88c]{display:flex;line-height:25px}.code-box .code-list .li .el-icon-copy-document[data-v-5d4fd88c]{margin-left:10px;cursor:pointer}.code-box .code-list .li .name[data-v-5d4fd88c]{margin-right:50px}.download[data-v-5d4fd88c]{text-align:right}",""]),t.exports=d},687:function(t,e,n){"use strict";n.r(e);var d=n(592).default,o=(n(650),n(10)),component=Object(o.a)(d,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"box"},[n("el-page-header",{attrs:{content:t.$t("money.pay.order_details")},on:{back:t.goBack}}),t._v(" "),n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},[n("div",{staticClass:"top"},[n("div",{staticClass:"order-number"},[t._v(t._s(t.$t("money.pay.order_number"))+"："+t._s(t.indent.identification))]),t._v(" "),n("div",{staticClass:"operation"},[1===t.indent.state?n("div",{staticStyle:{"margin-bottom":"5px"}},[n("el-button",{attrs:{loading:t.buttonLoading,size:"mini"}},[t._v(t._s(t.$t("indent.cancel_order")))])],1):t._e(),t._v(" "),1===t.indent.state?n("NuxtLink",{attrs:{to:{path:"/money/pay",query:{id:t.indent.id}}}},[n("el-button",{attrs:{loading:t.buttonLoading,size:"mini",type:"danger"}},[t._v(t._s(t.$t("indent.payment")))])],1):t._e(),t._v(" "),3===t.indent.state?n("div",[n("el-button",{attrs:{loading:t.buttonLoading,size:"mini",type:"danger"},on:{click:function(e){return t.confirmReceipt()}}},[t._v(t._s(t.$t("indent.confirm_receipt")))])],1):t._e()],1)]),t._v(" "),n("el-divider"),t._v(" "),n("div",{staticClass:"steps-box"},[n("div",{staticClass:"title"},[t._v(t._s(t.indent.state_show))]),t._v(" "),n("div",{staticClass:"steps"},[n("div",{class:{on:t.indent.created_at}},[n("div",{staticClass:"chunk"},[t._v(t._s(t.$t("indent.orders")))])]),t._v(" "),n("div",{class:{on:t.indent.pay_time}},[n("div",{staticClass:"chunk"},[t._v(t._s(t.$t("indent.payments")))]),t._v(" "),n("div",{staticClass:"name"})]),t._v(" "),t.isType?n("div",{class:{on:t.indent.shipping_time}},[n("div",{staticClass:"chunk"},[t._v(t._s(t.$t("indent.distribution")))]),t._v(" "),n("div",{staticClass:"name"})]):t._e(),t._v(" "),n("div",{class:{on:5===t.indent.state||11===t.indent.state}},[n("div",{staticClass:"chunk"},[t._v(t._s(t.$t("indent.trade_successfully")))]),t._v(" "),n("div",{staticClass:"name"})])])]),t._v(" "),n("div",{staticClass:"steps-box-time"},[n("div",{staticClass:"steps"},[n("div",[n("div",{staticClass:"chunk"},[t._v(t._s(t.indent.created_at))])]),t._v(" "),n("div",[n("div",{staticClass:"chunk"},[t._v(t._s(t.indent.pay_time))])]),t._v(" "),t.isType?n("div",[n("div",{staticClass:"chunk"},[t._v(t._s(t.indent.shipping_time))])]):t._e(),t._v(" "),n("div",[n("div",{staticClass:"chunk"},[t._v(t._s(5===t.indent.state?t.indent.confirm_time:""))])])])]),t._v(" "),n("el-table",{ref:"table",staticClass:"table",attrs:{data:t.indent.goods_list}},[n("el-table-column",{attrs:{align:"center",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("NuxtLink",{attrs:{to:{path:"/product/detail/"+e.row.good_id}}},[n("el-image",{staticClass:"image",attrs:{src:t._f("smallImage")(e.row.img,80),fit:"cover"}})],1)]}}])}),t._v(" "),n("el-table-column",{attrs:{label:t.$t("indent.name")},scopedSlots:t._u([{key:"default",fn:function(e){return[n("NuxtLink",{attrs:{to:{path:"/product/detail/"+e.row.good_id}}},[n("p",[t._v(t._s(e.row.name))]),t._v(" "),n("p",{staticClass:"specification"},[t._v(t._s(e.row.specification))])])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:t.$t("indent.price"),width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(t._f("thousands")(e.row.price))+"\n        ")]}}])}),t._v(" "),n("el-table-column",{attrs:{label:t.$t("indent.number"),width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.number)+"\n        ")]}}])}),t._v(" "),n("el-table-column",{attrs:{label:t.$t("indent.subtotal"),width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(t._f("thousands")(e.row.price*e.row.number))+"\n        ")]}}])})],1),t._v(" "),n("el-divider"),t._v(" "),t.indent.odd?[n("div",{staticClass:"address"},[n("div",{staticClass:"min-title"},[t._v(t._s(t.$t("indent.logistics")))]),t._v(" "),n("div",{staticClass:"li"},[n("div",{staticClass:"name"},[t._v(t._s(t.$t("indent.logistics_company"))+"：")]),t._v(" "),n("div",{staticClass:"value"},[t._v(t._s(t.indent.dhl.name))])]),t._v(" "),n("div",{staticClass:"li"},[n("div",{staticClass:"name"},[t._v(t._s(t.$t("indent.waybill_number"))+"：")]),t._v(" "),n("div",{staticClass:"value"},[t._v(t._s(t.indent.odd))])])]),t._v(" "),n("el-divider")]:t._e(),t._v(" "),t.indent.good_location?[n("div",{staticClass:"address"},[n("div",{staticClass:"min-title"},[t._v(t._s(t.$t("money.pay.receiving")))]),t._v(" "),n("div",{staticClass:"li"},[n("div",{staticClass:"name"},[t._v(t._s(t.$t("indent.compellation"))+"：")]),t._v(" "),n("div",{staticClass:"value"},[t._v(t._s(t.indent.good_location.name))])]),t._v(" "),n("div",{staticClass:"li"},[n("div",{staticClass:"name"},[t._v(t._s(t.$t("indent.phone"))+"：")]),t._v(" "),n("div",{staticClass:"value"},[t._v(t._s(t.indent.good_location.cellphone))])]),t._v(" "),n("div",{staticClass:"li"},[n("div",{staticClass:"name"},[t._v(t._s(t.$t("indent.shipping_address"))+"：")]),t._v(" "),n("div",{staticClass:"value"},[t._v("\n            "+t._s(t.indent.good_location.location)+"\n            "),t.indent.good_location.address?n("span",[t._v("("+t._s(t.indent.good_location.address)+")")]):t._e(),t._v("\n            "+t._s(t.indent.good_location.house)+"\n          ")])])]),t._v(" "),n("el-divider")]:t._e(),t._v(" "),t.indent.refund_time?n("div",[n("div",{staticClass:"address"},[n("div",{staticClass:"min-title"},[t._v(t._s(t.$t("indent.refund_method")))]),t._v(" "),n("div",{staticClass:"li"},[n("div",{staticClass:"name"},[t._v(t._s(t.$t("indent.refund_method"))+"：")]),t._v(" "),n("div",{staticClass:"value"},[t._v(t._s(t.indent.refund_way))])]),t._v(" "),n("div",{staticClass:"li"},[n("div",{staticClass:"name"},[t._v(t._s(t.$t("indent.refund_time"))+"：")]),t._v(" "),n("div",{staticClass:"value"},[t._v(t._s(t.indent.refund_time))])]),t._v(" "),n("div",{staticClass:"li"},[n("div",{staticClass:"name"},[t._v(t._s(t.$t("indent.refund_amount"))+"：")]),t._v(" "),n("div",{staticClass:"value"},[t._v(t._s(t.indent.refund_money))])]),t._v(" "),n("div",{staticClass:"li"},[n("div",{staticClass:"name"},[t._v(t._s(t.$t("indent.refund_refund"))+"：")]),t._v(" "),n("div",{staticClass:"value"},[t._v(t._s(t.indent.refund_reason))])])]),t._v(" "),n("el-divider")],1):t._e(),t._v(" "),t.indent.good_code.length?n("div",{staticClass:"code-box"},[n("div",{staticClass:"min-title"},[t._v(t._s(t.code_type?t.$t("good.code_type.web_disk"):t.$t("good.code_type.carmi")))]),t._v(" "),n("div",{staticClass:"code-list"},t._l(t.indent.good_code,(function(e,d){return n("div",{key:d,staticClass:"li"},[e.name?n("div",{staticClass:"name"},[t._v(t._s(t.code_type?t.$t("good.good_code.url"):t.$t("good.good_code.card_number"))+"："+t._s(e.name)),n("span",{staticClass:"el-icon-copy-document",on:{click:function(n){return t.doCopy(e.name)}}})]):t._e(),t._v(" "),n("div",{staticClass:"value"},[t._v(t._s(t.code_type?t.$t("good.web_disk.code"):t.$t("good.code_type.carmi"))+"："+t._s(e.code)),n("span",{staticClass:"el-icon-copy-document",on:{click:function(n){return t.doCopy(e.code)}}})])])})),0),t._v(" "),n("el-divider")],1):t._e(),t._v(" "),n("div",{staticClass:"address"},[n("div",{staticClass:"min-title"},[t._v(t._s(t.$t("indent.other")))]),t._v(" "),n("div",{staticClass:"li"},[n("div",{staticClass:"name"},[t._v(t._s(t.$t("indent.remark"))+"：")]),t._v(" "),n("div",{staticClass:"value"},[t._v(t._s(t.indent.remark?t.indent.remark:t.$t("indent.without")))])])]),t._v(" "),n("el-divider"),t._v(" "),n("div",{staticClass:"right"},[n("div",{staticClass:"li"},[n("div",{staticClass:"name"},[t._v(t._s(t.$t("indent.total"))+"：")]),t._v(" "),n("div",{staticClass:"value"},[t._v(t._s(t._f("thousands")(t.total))+t._s(t.$t("common.monetary_unit")))])]),t._v(" "),t.indent.coupon_money?n("div",{staticClass:"li"},[n("div",{staticClass:"name"},[t._v(t._s(t.$t("indent.discount_amount"))+"：")]),t._v(" "),n("div",{staticClass:"value"},[t._v("-"+t._s(t._f("thousands")(t.indent.coupon_money/100))+t._s(t.$t("common.monetary_unit")))])]):t._e(),t._v(" "),t.indent.integral_draw_log?t._e():n("div",{staticClass:"li"},[n("div",{staticClass:"name"},[t._v(t._s(t.$t("indent.freight"))+"：")]),t._v(" "),t.indent.carriage>0?n("div",{staticClass:"value"},[t._v(t._s(t._f("thousands")(t.indent.carriage))+t._s(t.$t("common.monetary_unit")))]):n("div",{staticClass:"value"},[t._v(t._s(t.$t("indent.free_shipping")))])]),t._v(" "),n("div",{staticClass:"li"},[n("div",{staticClass:"name"},[t._v(t._s(t.$t("indent.amount_payable"))+"：")]),t._v(" "),n("div",{staticClass:"value total"},[n("span",[t._v(t._s(t._f("thousands")(t.indent.total)))]),t._v(t._s(t.$t("common.monetary_unit")))])])]),t._v(" "),t.indent.download?n("div",{staticClass:"download"},[n("el-button",{directives:[{name:"loading",rawName:"v-loading",value:t.buttonLoading,expression:"buttonLoading"}],attrs:{type:"danger"},on:{click:t.goDownload}},[t._v(t._s(t.$t("indent.download")))])],1):t._e()],2)],1)}),[],!1,null,"5d4fd88c",null);e.default=component.exports}}]);