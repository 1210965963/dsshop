(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{592:function(t,n,e){"use strict";e.r(n);var o=e(7),c=e(3),r=(e(38),e(49),e(13),e(24),e(26),e(18),e(303),e(208),e(137));n.default={layout:"user",head:function(){return{title:"".concat(this.$t("money.pay.order_details"),"-").concat(this.$t("header.top.personal_center"))}},data:function(){return{loading:!0,buttonLoading:!1,total:0,indent:{total:0,good_code:[]},isType:!0,code_type:0}},mounted:function(){this.getDetail()},methods:{getDetail:function(){var t=this;return Object(c.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if($nuxt.$route.query.id){n.next=4;break}return t.$message({message:t.$t("common.arguments"),type:"error"}),$nuxt.$router.go(-1),n.abrupt("return",!1);case 4:return n.next=6,Promise.all([Object(r.e)($nuxt.$route.query.id)]).then((function(n){var e=Object(o.a)(n,1)[0];t.indent=e,t.total=0;var c=null;t.indent.goods_list.forEach((function(n){t.total+=n.price*n.number,n.good_sku&&(t.code_type=n.good_sku.code_type,c=null,n.good_sku.product_sku.forEach((function(t){c?c+=t.value+";":c=t.value+";"})),n.specification=c.substr(0,c.length-1)),2!==n.good.type&&3!==n.good.type||(t.isType=!1)})),t.total=Number(t.total.toFixed(2)),t.loading=!1})).catch((function(n){t.loading=!1}));case 6:case"end":return n.stop()}}),n)})))()},confirmReceipt:function(){var t=this;this.$confirm(this.$t("hint.whether_confirm",{attribute:this.$t("indent.receiving")}),this.$t("common.hint"),{confirmButtonText:this.$t("common.confirm"),cancelButtonText:this.$t("common.cancel"),type:"warning"}).then((function(){t.buttonLoading=!0,Object(r.j)(t.indent.id).then((function(n){t.buttonLoading=!1,t.$message({message:t.$t("common.success"),type:"success"}),t.getDetail()})).catch((function(){t.buttonLoading=!1}))})).catch((function(){}))},goBack:function(){$nuxt.$router.go(-1)},doCopy:function(t){var n=this;this.$copyText(t).then((function(t){n.$message({message:n.$t("indent.copy"),type:"success"})})).catch((function(t){console.log("失败")}))},goDownload:function(){var t=this;this.buttonLoading=!0,Object(r.f)(this.indent.id).then((function(t){window.open("http://dsshop.test/api/v1/app/indentDownload/"+t)})).finally((function(){t.buttonLoading=!1}))}}}}}]);