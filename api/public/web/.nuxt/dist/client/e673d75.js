(window.webpackJsonp=window.webpackJsonp||[]).push([[3,10,11,12,13,20,33,35,37,38],{494:function(t,e,n){var content=n(497);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(12).default)("cf86f00a",content,!0,{sourceMap:!1})},495:function(t,e,n){"use strict";n.r(e);n(291),n(90);Math.easeInOutQuad=function(t,b,e,n){return(t/=n/2)<1?e/2*t*t+b:-e/2*(--t*(t-2)-1)+b};var o=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)};function r(t,e,n){var r=document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop,c=t-r,l=0;e=void 0===e?500:e;!function t(){l+=20;var d,m=Math.easeInOutQuad(l,r,c,e);d=m,document.documentElement.scrollTop=d,document.body.parentNode.scrollTop=d,document.body.scrollTop=d,l<e?o(t):n&&"function"==typeof n&&n()}()}e.default={name:"Pagination",props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:20},pageSizes:{type:Array,default:function(){return[10,20,30,50]}},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},computed:{currentPage:{get:function(){return this.page},set:function(t){this.$emit("update:page",t)}},pageSize:{get:function(){return this.limit},set:function(t){this.$emit("update:limit",t)}}},methods:{handleSizeChange:function(t){this.$emit("pagination",{page:this.currentPage,limit:t}),this.autoScroll&&r(0,800)},handleCurrentChange:function(t){this.$emit("pagination",{page:t,limit:this.pageSize}),this.autoScroll&&r(0,800)}}}},496:function(t,e,n){"use strict";n(494)},497:function(t,e,n){var o=n(11)(!1);o.push([t.i,".pagination-container[data-v-c339c37e]{background:#fff;padding:32px 16px}.pagination-container.hidden[data-v-c339c37e]{display:none}",""]),t.exports=o},498:function(t,e,n){"use strict";n.r(e);var o=n(495).default,r=(n(496),n(6)),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pagination-container",class:{hidden:t.hidden}},[n("el-pagination",t._b({attrs:{background:t.background,"current-page":t.currentPage,"page-size":t.pageSize,layout:t.layout,"page-sizes":t.pageSizes,total:t.total},on:{"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e},"update:pageSize":function(e){t.pageSize=e},"update:page-size":function(e){t.pageSize=e},"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}},"el-pagination",t.$attrs,!1))],1)}),[],!1,null,"c339c37e",null);e.default=component.exports},504:function(t,e,n){"use strict";n.d(e,"b",(function(){return l})),n.d(e,"c",(function(){return d})),n.d(e,"a",(function(){return m}));var o=n(8),r=n(19),c=n.n(r);function l(t){return Object(o.a)({url:"coupon",method:"GET",params:t})}function d(t){return Object(o.a)({url:"coupon/user",method:"GET",params:t})}function m(data){return data=c.a.parse(data),Object(o.a)({url:"coupon",method:"POST",data:data})}},508:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return c})),n.d(e,"c",(function(){return l}));var o=n(8);function r(t){return Object(o.a)({url:"good",method:"GET",params:t})}function c(t){return Object(o.a)({url:"good/"+t,method:"GET"})}function l(t){return Object(o.a)({url:"goodCategory",method:"GET",params:t})}},510:function(t,e,n){"use strict";n.d(e,"b",(function(){return l})),n.d(e,"c",(function(){return d})),n.d(e,"a",(function(){return m}));var o=n(8),r=n(19),c=n.n(r);function l(t){return Object(o.a)({url:"comment/detail/"+t,method:"GET"})}function d(t){return Object(o.a)({url:"comment/good",method:"GET",params:t})}function m(t,data){return data=c.a.parse(data),Object(o.a)({url:"comment/"+t,method:"POST",data:data})}},525:function(t,e,n){var content=n(547);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(12).default)("0bde2f34",content,!0,{sourceMap:!1})},526:function(t,e,n){var content=n(549);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(12).default)("23dd895b",content,!0,{sourceMap:!1})},528:function(t,e,n){"use strict";n.d(e,"d",(function(){return l})),n.d(e,"c",(function(){return d})),n.d(e,"a",(function(){return m})),n.d(e,"b",(function(){return f}));var o=n(8),r=n(19),c=n.n(r);function l(t){return Object(o.a)({url:"collect",method:"GET",params:t})}function d(t){return Object(o.a)({url:"collect/"+t,method:"GET"})}function m(data){return data=c.a.parse(data),Object(o.a)({url:"collect",method:"POST",data:data})}function f(t){return Object(o.a)({url:"collect/destroy/"+t,method:"POST"})}},534:function(t,e,n){var content=n(571);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(12).default)("b20cdc80",content,!0,{sourceMap:!1})},535:function(t,e,n){var content=n(536);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(12).default)("64ca229e",content,!0,{sourceMap:!1})},536:function(t,e,n){var o=n(11)(!1);o.push([t.i,'.vjs-custom-skin>.video-js{width:100%;font-family:"PingFang SC","Helvetica Neue","Hiragino Sans GB","Segoe UI","Microsoft YaHei","微软雅黑",sans-serif}.video-js.vjs-no-flex .vjs-menu-button-inline,.vjs-custom-skin>.video-js .vjs-menu-button-inline.vjs-slider-active,.vjs-custom-skin>.video-js .vjs-menu-button-inline:focus,.vjs-custom-skin>.video-js .vjs-menu-button-inline:hover{width:10em}.vjs-custom-skin>.video-js .vjs-controls-disabled .vjs-big-play-button{display:none!important}.vjs-custom-skin>.video-js .vjs-control{width:3em}.vjs-custom-skin>.video-js .vjs-control.vjs-live-control{width:auto;padding-left:.5em;letter-spacing:.1em}.vjs-custom-skin>.video-js .vjs-menu-button-inline:before{width:1.5em}.vjs-menu-button-inline .vjs-menu{left:3em}.vjs-custom-skin>.video-js .vjs-load-progress div,.vjs-seeking .vjs-big-play-button,.vjs-waiting .vjs-big-play-button{display:none!important}.vjs-custom-skin>.video-js .vjs-mouse-display:after,.vjs-custom-skin>.video-js .vjs-play-progress:after{padding:0 .4em .3em}.video-js.vjs-ended .vjs-loading-spinner{display:none}.video-js.vjs-ended .vjs-big-play-button{display:block!important}.video-js.vjs-ended .vjs-big-play-button,.video-js.vjs-paused .vjs-big-play-button,.vjs-paused.vjs-has-started.vjs-custom-skin>.video-js .vjs-big-play-button{display:block}.vjs-custom-skin>.video-js .vjs-big-play-button{top:50%;left:50%;margin-left:-1.5em;margin-top:-1em;background-color:rgba(0,0,0,.45);font-size:3.5em;height:2em!important;line-height:2em!important;margin-top:-1em!important}.video-js:hover .vjs-big-play-button,.vjs-custom-skin>.video-js .vjs-big-play-button:active,.vjs-custom-skin>.video-js .vjs-big-play-button:focus{background-color:rgba(36,131,213,.9)}.vjs-custom-skin>.video-js .vjs-loading-spinner{border-color:rgba(36,131,213,.8)}.vjs-custom-skin>.video-js .vjs-control-bar2{background-color:#000}.vjs-custom-skin>.video-js .vjs-control-bar{color:#fff;font-size:14px}.vjs-custom-skin>.video-js .vjs-play-progress,.vjs-custom-skin>.video-js .vjs-volume-level{background-color:#2483d5}.vjs-custom-skin>.video-js .vjs-play-progress:before{top:-.3em}.vjs-custom-skin>.video-js .vjs-progress-control:hover .vjs-progress-holder{font-size:1.3em}.vjs-menu-button-popup.vjs-volume-menu-button-vertical .vjs-menu{left:0}.vjs-custom-skin>.video-js .vjs-menu li{padding:0;line-height:2em;font-size:1.1em;font-family:"PingFang SC","Helvetica Neue","Hiragino Sans GB","Segoe UI","Microsoft YaHei","微软雅黑",sans-serif}.vjs-custom-skin>.video-js .vjs-mouse-display:after,.vjs-custom-skin>.video-js .vjs-play-progress:after,.vjs-custom-skin>.video-js .vjs-time-tooltip{border-radius:0;font-size:1em;padding:0;width:3em;height:1.5em;line-height:1.5em;top:-3em}.vjs-custom-skin>.video-js .vjs-menu-button-popup .vjs-menu{width:5em;left:-1em}.vjs-custom-skin>.video-js .vjs-menu-button-popup.vjs-volume-menu-button-vertical .vjs-menu{left:0}.vjs-custom-skin>.video-js .vjs-control-bar .vjs-play-control{order:0}.vjs-custom-skin>.video-js .vjs-control-bar .vjs-time-control{min-width:1em;padding:0;margin:0 .1em;text-align:center;display:block;order:1}.vjs-custom-skin>.video-js .vjs-control-bar .vjs-playback-rate .vjs-playback-rate-value{font-size:1.2em;line-height:2.4}.vjs-custom-skin>.video-js .vjs-progress-control.vjs-control{order:2}.vjs-custom-skin>.video-js .vjs-control-bar .vjs-volume-menu-button{order:3}.vjs-custom-skin>.video-js .vjs-control-bar .vjs-resolution-button{order:4}.vjs-custom-skin>.video-js .vjs-control-bar .vjs-resolution-button .vjs-resolution-button-label{display:block;line-height:3em}.vjs-custom-skin>.video-js .vjs-control-bar .vjs-playback-rate{order:5}.vjs-custom-skin>.video-js .vjs-control-bar .vjs-fullscreen-control{order:6}',""]),t.exports=o},537:function(t,e,n){var content=n(573);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(12).default)("5ca45718",content,!0,{sourceMap:!1})},538:function(t,e,n){"use strict";n.r(e);var o=n(17),r=(n(13),n(24),n(30),n(510));e.default={data:function(){return{list:[],imgList:[],listQuery:{limit:10,page:1,good_id:0,sort:"-created_at"},loading:!1,total:0}},mounted:function(){if(!$nuxt.$route.params.id)return this.$message.error("参数有误"),$nuxt.$router.go(-1),!1;this.listQuery.good_id=$nuxt.$route.params.id,this.getList()},methods:{getList:function(){var t=this;this.loading=!0,Promise.all([Object(r.c)(this.listQuery)]).then((function(e){var data=Object(o.a)(e,1)[0];t.list=data.data,t.total=data.total,t.loading=!1})).catch((function(e){t.loading=!1}))}}}},539:function(t,e,n){"use strict";n.r(e);var o=n(17),r=n(7),c=(n(36),n(13),n(24),n(30),n(504));e.default={name:"CouponIndex",data:function(){return{tableLoading:!1,checkboxAll:!1,loading:!0,buttonLoading:!1,list:[],total:0,listQuery:{limit:10,page:1,sort:"-created_at"}}},mounted:function(){$nuxt.$store.state.hasLogin&&this.getList()},methods:{getList:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,Promise.all([Object(c.b)(t.listQuery)]).then((function(e){var data=Object(o.a)(e,1)[0];t.list=data.data,t.total=data.total,t.loading=!1})).catch((function(e){t.loading=!1}));case 3:case"end":return e.stop()}}),e)})))()},popover:function(){if(!$nuxt.$store.state.hasLogin)return $nuxt.$store.commit("loginCheck"),!1},getCreate:function(t){var e=this;this.buttonLoading=!0,Object(c.a)(t).then((function(){e.getList(),e.buttonLoading=!1,e.$message({message:"领取成功",type:"success"})}))}}}},544:function(t,e,n){"use strict";n.r(e);n(293),n(535);e.default={props:{poster:{type:String,default:""},sources:{type:String,default:""},aspectRatio:{type:String,default:"4:4"}},data:function(){return{playsinline:!0,playerOptions:{muted:!1,language:"zh-CN",aspectRatio:this.aspectRatio,playbackRates:[.7,1,1.5,2],controls:!0,preload:"auto",fluid:!0,sources:[{type:"video/mp4",src:this.sources}],poster:this.poster,notSupportedMessage:"此视频暂无法播放，请稍后再试",controlBar:{timeDivider:!0,durationDisplay:!0,remainingTimeDisplay:!1,fullscreenToggle:!0}}}},mounted:function(){},methods:{onPlayerPlay:function(t){},onPlayerPause:function(t){},onPlayerEnded:function(t){},onPlayerLoadeddata:function(t){},onPlayerWaiting:function(t){},onPlayerPlaying:function(t){},onPlayerTimeupdate:function(t){},onPlayerCanplay:function(t){console.log("player Canplay!",t)},onPlayerCanplaythrough:function(t){},playerStateChanged:function(t){},playerReadied:function(t){}}}},546:function(t,e,n){"use strict";n(525)},547:function(t,e,n){var o=n(11)(!1);o.push([t.i,".box[data-v-fe8f2d76]{padding-top:20px}.box .details[data-v-fe8f2d76]{padding-bottom:10px}.box .imgList .img[data-v-fe8f2d76]{border:2px solid #f2f2f2;padding:2px;width:80px;height:80px;margin-right:5px}.box .time[data-v-fe8f2d76]{color:#ccc}.box .reply[data-v-fe8f2d76]{color:#fa524c}",""]),t.exports=o},548:function(t,e,n){"use strict";n(526)},549:function(t,e,n){var o=n(11)(!1);o.push([t.i,".tag[data-v-5c70d162]{margin-left:10px;width:80px;height:40px;line-height:40px;text-align:center;font-size:14px;border-style:dashed;cursor:pointer}.ul .li[data-v-5c70d162]{padding:10px;display:flex;align-items:flex-start}.ul .li .money[data-v-5c70d162]{color:#fa524c;width:70px;text-align:center;border:1px dashed #fa524c;line-height:25px;padding:0 10px;margin:5px 10px 5px 0}.ul .li .explain[data-v-5c70d162]{width:220px;padding-right:10px}.ul .li .explain .name[data-v-5c70d162]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ul .li .button[data-v-5c70d162]{margin-top:8px}",""]),t.exports=o},570:function(t,e,n){"use strict";n(534)},571:function(t,e,n){var o=n(11)(!1);o.push([t.i,".specification-list[data-v-99a4d6fc]{display:flex;margin-top:10px}.specification-list .name[data-v-99a4d6fc]{font-size:12px;line-height:40px;width:80px;text-align:right;color:#999}.specification-list .item-list[data-v-99a4d6fc]{flex:1;display:flex;flex-wrap:wrap}.specification-list .item-list .item[data-v-99a4d6fc]{border:1px solid #e0e0e0;line-height:40px;padding:0 20px;margin-left:10px;margin-bottom:10px;cursor:pointer}.specification-list .item-list .selected[data-v-99a4d6fc]{border:1px solid #fa524c;color:#fa524c}.specification-list .item-list .disabled[data-v-99a4d6fc]{color:#c0c4cc;border:1px solid #c0c4cc}.purchase-quantity[data-v-99a4d6fc]{margin-top:20px;display:flex;line-height:40px}.purchase-quantity .name[data-v-99a4d6fc]{font-size:12px;width:80px;text-align:right;margin-right:10px;color:#999}.purchase-quantity .inventory[data-v-99a4d6fc]{font-size:12px;margin-left:10px}",""]),t.exports=o},572:function(t,e,n){"use strict";n(537)},573:function(t,e,n){var o=n(11)(!1);o.push([t.i,"",""]),t.exports=o},575:function(t,e,n){"use strict";n.r(e);var o=n(647).default,r=(n(570),n(6)),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._l(t.specification,(function(e,o){return n("div",{key:o,staticClass:"specification-list"},[n("div",{staticClass:"name"},[t._v("选择"+t._s(e.value))]),t._v(" "),n("div",{staticClass:"item-list"},t._l(e.leaf,(function(e,r){return n("div",{key:r,staticClass:"item",class:{selected:e.selected,disabled:e.disabled},on:{click:function(n){return t.selectSpec(o,r,e)}}},[t._v("\n          "+t._s(e.value)+"\n        ")])})),0)])})),t._v(" "),n("div",{staticClass:"purchase-quantity"},[n("div",{staticClass:"name"},[t._v("购买数量")]),t._v(" "),n("div",{staticClass:"quantity"},[n("el-input-number",{attrs:{min:1,max:t.specificationDefaultDisplay.inventory_show},on:{change:t.numberChange},model:{value:t.cartGood.number>t.specificationDefaultDisplay.inventory_show?t.specificationDefaultDisplay.inventory_show:t.cartGood.number,callback:function(e){t.$set(t.cartGood.number>t.specificationDefaultDisplay.inventory_show?t.specificationDefaultDisplay.inventory_show:t.cartGood,"number",e)},expression:"cartGood.number>specificationDefaultDisplay.inventory_show?specificationDefaultDisplay.inventory_show:cartGood.number"}})],1),t._v(" "),n("div",{staticClass:"inventory"},[t._v("件 (库存："+t._s(t.specificationDefaultDisplay.inventory_show)+"件)")])])],2)}),[],!1,null,"99a4d6fc",null);e.default=component.exports},576:function(t,e,n){"use strict";n.r(e);var o=n(544).default,r=(n(572),n(6)),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"vueVideo"},[n("div",{directives:[{name:"video-player",rawName:"v-video-player:myVideoPlayer",value:t.playerOptions,expression:"playerOptions",arg:"myVideoPlayer"}],staticClass:"video-player vjs-custom-skin",attrs:{playsinline:t.playsinline},on:{play:function(e){return t.onPlayerPlay(e)},pause:function(e){return t.onPlayerPause(e)},ended:function(e){return t.onPlayerEnded(e)},loadeddata:function(e){return t.onPlayerLoadeddata(e)},waiting:function(e){return t.onPlayerWaiting(e)},playing:function(e){return t.onPlayerPlaying(e)},timeupdate:function(e){return t.onPlayerTimeupdate(e)},canplay:function(e){return t.onPlayerCanplay(e)},canplaythrough:function(e){return t.onPlayerCanplaythrough(e)},ready:t.playerReadied,statechanged:function(e){return t.playerStateChanged(e)}}})])}),[],!1,null,"5eeaa29e",null);e.default=component.exports},637:function(t,e,n){"use strict";n.r(e);var o=n(538).default,r=(n(546),n(6)),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"box"},[n("div",{staticClass:"container"},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"table",staticClass:"table",attrs:{data:t.list,"empty-text":"暂无评价"}},[n("el-table-column",{attrs:{label:"评价"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("div",{staticClass:"details"},[t._v(t._s(e.row.comment.details))]),t._v(" "),e.row.comment.resources_many.length>0?n("div",{staticClass:"imgList"},t._l(e.row.comment.resources_many,(function(o,r){return n("el-image",{key:r,staticClass:"img",attrs:{fit:"contain",src:t._f("smallImage")(o.img,150),"preview-src-list":e.row.comment.resources_many.map((function(t){return t.img}))}})})),1):t._e(),t._v(" "),n("div",{staticClass:"time"},[t._v(t._s(e.row.comment.created_at.split(" ")[0]))]),t._v(" "),e.row.comment.reply?n("div",{staticClass:"reply"},[t._v("\n            解释："+t._s(e.row.comment.reply.details)+"\n          ")]):t._e()]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"购买类型",align:"center",width:"300"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.good_sku?n("div",t._l(e.row.good_sku.product_sku,(function(e,o){return n("span",{key:o},[t._v("\n              "+t._s(e.key)+":"+t._s(e.value)+"\n            ")])})),0):t._e()]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"用户",width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.comment.name)+"\n        ")]}}])})],1),t._v(" "),n("div",{staticClass:"operation"},[t.total>0?n("pagination",{staticClass:"pagination",attrs:{total:t.total,page:t.listQuery.page,limit:t.listQuery.limit,autoScroll:!1},on:{"update:page":function(e){return t.$set(t.listQuery,"page",e)},"update:limit":function(e){return t.$set(t.listQuery,"limit",e)},pagination:t.getList}}):t._e()],1)],1)])}),[],!1,null,"fe8f2d76",null);e.default=component.exports;installComponents(component,{Pagination:n(498).default})},638:function(t,e,n){"use strict";n.r(e);var o=n(539).default,r=(n(548),n(6)),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-popover",{attrs:{placement:"bottom",width:"400",trigger:"click"},on:{show:t.popover}},[n("div",{staticClass:"ul"},t._l(t.list,(function(e,o){return n("div",{key:o,staticClass:"li"},[n("div",{staticClass:"money"},[3!==e.type?n("span",[t._v("￥")]):t._e(),t._v(t._s(e.cost/100)),3===e.type?n("span",[t._v("%")]):t._e()]),t._v(" "),n("div",{staticClass:"explain"},[n("div",{staticClass:"name"},[t._v(t._s(e.explain))]),t._v(" "),e.end_time?n("div",{staticClass:"time"},[t._v(t._s(t._f("moment")(e.start_time,"YYYY.MM.DD"))+" - "+t._s(t._f("moment")(e.end_time,"YYYY.MM.DD")))]):n("div",{staticClass:"time"},[t._v("不限")])]),t._v(" "),n("el-button",{staticClass:"button",attrs:{type:"primary",size:"mini",loading:t.buttonLoading,disabled:e.limit_get>0&&e.user_coupon_count>=e.limit_get},on:{click:function(n){return t.getCreate(e)}}},[t._v(t._s(e.limit_get>0&&e.user_coupon_count>=e.limit_get?"已领":"领取"))])],1)})),0),t._v(" "),n("el-tag",{staticClass:"tag",attrs:{slot:"reference",type:"danger",effect:"plain"},slot:"reference"},[t._v("\n        优惠券\n      ")])],1)],1)}),[],!1,null,"5c70d162",null);e.default=component.exports},715:function(t,e,n){"use strict";n.r(e);var o=n(17),r=n(7),c=(n(36),n(13),n(24),n(30),n(18),n(44),n(90),n(508)),l=n(528),d=n(575),m=n(576),f=(n(293),n(637)),v=n(510),h=n(638),y=n(190);e.default={components:{sku:d.default,VueVideo:m.default,Comment:f.default,coupon:h.default},data:function(){return{tab:1,tabLoading:!1,goodDetail:{},specificationDefaultDisplay:{},resources_many:[],resources_many_img:[],collect:0,poster:"",commentTotal:0,isComment:!1,isCoupon:!1}},asyncData:function(t){return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r,l,d,m,f,v,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.params,e.next=4,Promise.all([Object(c.a)(n.id),Object(y.a)(["coupon","comment"])]);case 4:return r=e.sent,l=Object(o.a)(r,2),d=l[0],m=l[1],f=[],v=[],d.resources_many.length>0&&d.resources_many.forEach((function(t,e){-1!==t.depict.indexOf("_video")?(t.type="video",f.unshift(t)):-1!==t.depict.indexOf("_poster")?h=t.img:(t.type="img",f.push(t),v.push(t.img))})),e.abrupt("return",{goodDetail:d,resources_many:f,resources_many_img:v,poster:h,isCoupon:m.coupon,isComment:m.comment});case 14:e.prev=14,e.t0=e.catch(0),t.$errorHandler(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})))()},head:function(){return{title:this.goodDetail.name+"-DSSHOP商城-跨终端商城解决方案",meta:[{hid:"index",name:this.goodDetail.name+"-DSSHOP商城-跨终端商城解决方案",content:this.goodDetail.keywords?this.goodDetail.keywords:"商城网店系统|商城|网店|免费商城|免费网店"},{hid:"description",name:"description",content:this.goodDetail.short_description?this.goodDetail.short_description:"免费开源可商用，快速搭建属于自己的独立商城网店系统，一次搭建适配多终端"},{hid:"keywords",name:"keywords",content:this.goodDetail.keywords?this.goodDetail.keywords:"商城网店系统|商城|网店|免费商城|免费网店"}]}},mounted:function(){$nuxt.$store.state.hasLogin&&this.getCollect(),this.isComment&&this.getCommentTotal()},methods:{purchasePattern:function(data){this.specificationDefaultDisplay=data},buy:function(t){if(!$nuxt.$store.state.hasLogin)return $nuxt.$store.commit("loginCheck"),!1;this.$refs.sku.cart(t)},getCollect:function(){var t=this;Object(l.c)($nuxt.$route.params.id).then((function(e){t.collect=e}))},toCollect:function(){if(!$nuxt.$store.state.hasLogin)return $nuxt.$store.commit("loginCheck"),!1;this.collect?Object(l.b)(this.goodDetail.id):Object(l.a)(this.goodDetail),this.collect=!this.collect},cutTab:function(t){var e=this;this.tabLoading=!0,this.tab=t,setTimeout((function(){e.tabLoading=!1}),1e3)},getCommentTotal:function(){var t=this;Object(v.c)({limit:1,page:1,good_id:$nuxt.$route.params.id,sort:"-created_at"}).then((function(e){t.commentTotal=e.total}))}}}}}]);