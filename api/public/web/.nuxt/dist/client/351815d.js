(window.webpackJsonp=window.webpackJsonp||[]).push([[37,38],{531:function(t,e,r){"use strict";r.d(e,"b",(function(){return c})),r.d(e,"a",(function(){return n})),r.d(e,"c",(function(){return l}));var o=r(6);function c(t){return Object(o.a)({url:"good",method:"GET",params:t})}function n(t){return Object(o.a)({url:"good/"+t,method:"GET"})}function l(t){return Object(o.a)({url:"goodCategory",method:"GET",params:t})}},601:function(t,e,r){"use strict";r.r(e);var o=r(7),c=r(3),n=(r(38),r(13),r(24),r(26),r(32),r(305),r(531));e.default={data:function(){return{list:[],listQuery:{},loading:!1,total:0,title:""}},asyncData:function(t){return Object(c.a)(regeneratorRuntime.mark((function e(){var r,c,l,d,v,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=t.query,c=t.params,l={limit:20,page:1,sort:"",category_id:c.id,title:r.title},e.next=5,Promise.all([Object(n.b)(l)]);case 5:return d=e.sent,v=Object(o.a)(d,1),f=v[0],e.abrupt("return",{list:f.data,total:f.total,listQuery:l,title:c.id?r.name:r.title});case 11:e.prev=11,e.t0=e.catch(0),t.$errorHandler(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))()},head:function(){return{title:this.title+(this.listQuery.category_id?"-".concat(this.$t("product.classify"),"-"):"-".concat(this.$t("product.search_result"),"-"))+"DSSHOP商城-轻量级易扩展低代码开源商城系统"}},watch:{"$route.query.title":{handler:function(t,e){this.title=this.listQuery.title=t,this.getList()},deep:!0}},methods:{getList:function(){var t=this;this.loading=!0,Promise.all([Object(n.b)(this.listQuery)]).then((function(e){var r=Object(o.a)(e,1)[0];t.list=r.data,t.total=r.total,t.loading=!1})).catch((function(e){t.loading=!1}))},tabClick:function(t){t?"sales"===t?this.listQuery.sort="-sales":"+order_price"!==this.listQuery.sort?this.listQuery.sort="+order_price":this.listQuery.sort="-order_price":this.listQuery.sort="",this.listQuery.page=1,this.getList()},handleSizeChange:function(t){this.listQuery.limit=t,this.getList()},handleCurrentChange:function(t){this.listQuery.page=t,this.getList()}}}},604:function(t,e,r){var content=r(664);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(16).default)("632b3b30",content,!0,{sourceMap:!1})},662:function(t,e,r){t.exports=r.p+"img/no-goods.b1692b5.png"},663:function(t,e,r){"use strict";r(604)},664:function(t,e,r){var o=r(15)(!1);o.push([t.i,".no-goods[data-v-0734c24e]{text-align:center;margin:20px 0 80px}.operation[data-v-0734c24e],.product-list[data-v-0734c24e]{margin-bottom:20px}.product-list[data-v-0734c24e]{width:1210px;position:relative;left:5px}.list[data-v-0734c24e]{display:flex;flex-wrap:wrap;align-content:flex-start}.list .li[data-v-0734c24e]{cursor:pointer;width:20%}.list .li .card[data-v-0734c24e]{margin:0 10px 10px 0}.list .li .card .image[data-v-0734c24e]{width:100%;height:190px}.list .li .card .name[data-v-0734c24e]{font-size:14px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.list .li .card .price[data-v-0734c24e]{display:flex;justify-content:center;margin-bottom:10px}.list .li .card .price .symbol[data-v-0734c24e]{font-size:12px;line-height:40px;color:#fa524c}.list .li .card .price .value[data-v-0734c24e]{color:#fa524c;line-height:35px}.list .li .card[data-v-0734c24e]:hover{transform:translateY(-5px)}.screen-box[data-v-0734c24e]{margin:30px 0 10px}.screen-box .on[data-v-0734c24e]{color:#fa524c}.screen-box .f-sort[data-v-0734c24e]{position:relative}.screen-box .f-sort .fs-tit[data-v-0734c24e]{display:inline-block;vertical-align:top}.screen-box .f-sort .fs-up[data-v-0734c24e]{width:7px;margin-left:5px;vertical-align:top}.screen-box .f-sort .up[data-v-0734c24e]{position:relative;top:-3px;left:-7px}.screen-box .f-sort .below[data-v-0734c24e]{position:relative;top:3px;left:-26px}.screen-box .screen[data-v-0734c24e]{display:flex;margin-bottom:20px}.screen-box .screen .on[data-v-0734c24e]{color:#fa524c}.screen-box .screen .divider[data-v-0734c24e]{position:relative;top:3px;margin:0 20px}.breadcrumb[data-v-0734c24e]{margin-top:20px;margin-bottom:10px}",""]),t.exports=o},692:function(t,e,r){"use strict";r.r(e);var o=r(601).default,c=(r(663),r(10)),component=Object(c.a)(o,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"box"},[o("el-breadcrumb",{staticClass:"breadcrumb container",attrs:{separator:"/"}},[o("el-breadcrumb-item",[o("NuxtLink",{attrs:{to:{path:"/"}}},[t._v("\n        "+t._s(t.$t("header.top.nav_list.home"))+"\n      ")])],1),t._v(" "),t.listQuery.category_id?o("el-breadcrumb-item",[t._v(t._s(t.$t("product.classify")))]):o("el-breadcrumb-item",[t._v(t._s(t.$t("product.search_result")))]),t._v(" "),o("el-breadcrumb-item",[t._v(t._s(t.title))])],1),t._v(" "),t.total?o("div",[o("div",{staticClass:"screen-box"},[o("div",{staticClass:"screen container"},[o("el-link",{class:{on:!t.listQuery.sort},attrs:{underline:!1},on:{click:function(e){return t.tabClick()}}},[t._v(t._s(t.$t("product.sort.synthesize")))]),t._v(" "),o("el-divider",{staticClass:"divider",attrs:{direction:"vertical"}}),t._v(" "),o("el-link",{class:{on:"-sales"===t.listQuery.sort},attrs:{underline:!1},on:{click:function(e){return t.tabClick("sales")}}},[t._v(t._s(t.$t("product.sort.sales")))]),t._v(" "),o("el-divider",{staticClass:"divider",attrs:{direction:"vertical"}}),t._v(" "),o("el-link",{staticClass:"f-sort",attrs:{underline:!1},on:{click:function(e){return t.tabClick("order_price")}}},[o("span",{staticClass:"fs-tit"},[t._v(t._s(t.$t("product.sort.price")))]),t._v(" "),o("em",{staticClass:"fs-up"},[o("i",{staticClass:"up el-icon-caret-top",class:{on:"+order_price"===t.listQuery.sort}}),t._v(" "),o("i",{staticClass:"below el-icon-caret-bottom",class:{on:"-order_price"===t.listQuery.sort}})])])],1)]),t._v(" "),o("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"product-list container"},[o("div",{staticClass:"list"},t._l(t.list,(function(e,r){return o("NuxtLink",{key:r,staticClass:"li",attrs:{to:{path:"/product/detail/"+e.id}}},[o("el-card",{staticClass:"card",attrs:{shadow:"hover"}},[o("el-image",{staticClass:"image",attrs:{src:t._f("smallImage")(e.resources.img,200),fit:"cover",lazy:""}}),t._v(" "),o("div",{staticClass:"name"},[t._v(t._s(e.name))]),t._v(" "),o("div",{staticClass:"price"},[o("div",{staticClass:"symbol"},[t._v(t._s(t.$t("common.unit")))]),t._v(" "),o("div",{staticClass:"value"},[t._v(t._s(t._f("thousands")(e.order_price)))])])],1)],1)})),1)]),t._v(" "),o("div",{staticClass:"operation container"},[o("el-pagination",{attrs:{"current-page":t.listQuery.page,"page-sizes":[10,20,30,40],"page-size":t.listQuery.limit,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)]):o("div",{staticClass:"no-goods"},[o("img",{attrs:{src:r(662)}}),t._v(" "),t.listQuery.pid?o("div",[t._v(t._s(t.$t("product.classified_no_commodity",{title:t.title})))]):o("div",[t._v(t._s(t.$t("product._no_commodity",{title:t.title})))])])],1)}),[],!1,null,"0734c24e",null);e.default=component.exports}}]);