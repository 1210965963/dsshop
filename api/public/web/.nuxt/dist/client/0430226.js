(window.webpackJsonp=window.webpackJsonp||[]).push([[46,60],{511:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return c})),n.d(e,"c",(function(){return l}));var r=n(7);function o(t){return Object(r.a)({url:"good",method:"GET",params:t})}function c(t){return Object(r.a)({url:"good/"+t,method:"GET"})}function l(t){return Object(r.a)({url:"goodCategory",method:"GET",params:t})}},651:function(t,e,n){"use strict";n.r(e);n(292),n(91);var r={name:"BaseCounter",props:{time:{type:Number|String,default:0},refreshCounter:{type:Number|String,default:0},end:{type:Number|String,default:0},isMiniSecond:{type:Boolean,default:!1}},computed:{duration:function(){if(this.end){var t=String(this.end).length>=13?+this.end:1e3*+this.end;return t-=Date.now()}return this.isMiniSecond?Math.round(+this.time/1e3):Math.round(+this.time)}},data:function(){return{days:"0",hours:"00",mins:"00",seconds:"00",timer:null,curTime:0}},methods:{durationFormatter:function(time){if(!time)return{ss:0};var t=time,e=t%60;if((t=(t-e)/60)<1)return{ss:e};var n=t%60;if((t=(t-n)/60)<1)return{mm:n,ss:e};var r=t%24;return(t=(t-r)/24)<1?{hh:r,mm:n,ss:e}:{dd:t,hh:r,mm:n,ss:e}},countDown:function(){this.curTime=Date.now(),this.getTime(this.duration)},getTime:function(time){var t=this;if(this.timer&&clearTimeout(this.timer),time<0)this.$emit("end",!0);else{var e=this.durationFormatter(time),dd=e.dd,n=e.hh,r=e.mm,o=e.ss;this.days=dd||0,this.hours=n||0,this.mins=r||0,this.seconds=o||0,this.timer=setTimeout((function(){var e=Date.now(),n=Math.floor((e-t.curTime)/1e3),r=n>1?n:1;t.curTime=e,t.getTime(time-r)}),1e3)}}},mounted:function(){this.countDown()},watch:{duration:function(){this.countDown()},refreshCounter:function(){this.countDown()}}},o=n(6),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",[t._t("default",null,null,{d:t.days,h:t.hours,m:t.mins,s:t.seconds,hh:("00"+t.hours).slice(-2),mm:("00"+t.mins).slice(-2),ss:("00"+t.seconds).slice(-2)})],2)}),[],!1,null,null,null);e.default=component.exports},653:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return c}));var r=n(7);function o(t){return Object(r.a)({url:"seckill",method:"GET",params:t})}function c(t){return Object(r.a)({url:"seckill/"+t,method:"GET"})}},668:function(t,e,n){var map={"./af":515,"./af.js":515,"./ar":516,"./ar-dz":517,"./ar-dz.js":517,"./ar-kw":518,"./ar-kw.js":518,"./ar-ly":519,"./ar-ly.js":519,"./ar-ma":520,"./ar-ma.js":520,"./ar-sa":521,"./ar-sa.js":521,"./ar-tn":522,"./ar-tn.js":522,"./ar.js":516,"./az":523,"./az.js":523,"./be":524,"./be.js":524,"./bg":525,"./bg.js":525,"./bm":526,"./bm.js":526,"./bn":527,"./bn-bd":528,"./bn-bd.js":528,"./bn.js":527,"./bo":529,"./bo.js":529,"./br":530,"./br.js":530,"./bs":531,"./bs.js":531,"./ca":532,"./ca.js":532,"./cs":533,"./cs.js":533,"./cv":534,"./cv.js":534,"./cy":535,"./cy.js":535,"./da":536,"./da.js":536,"./de":537,"./de-at":538,"./de-at.js":538,"./de-ch":539,"./de-ch.js":539,"./de.js":537,"./dv":540,"./dv.js":540,"./el":541,"./el.js":541,"./en-au":542,"./en-au.js":542,"./en-ca":543,"./en-ca.js":543,"./en-gb":544,"./en-gb.js":544,"./en-ie":545,"./en-ie.js":545,"./en-il":546,"./en-il.js":546,"./en-in":547,"./en-in.js":547,"./en-nz":548,"./en-nz.js":548,"./en-sg":549,"./en-sg.js":549,"./eo":550,"./eo.js":550,"./es":551,"./es-do":552,"./es-do.js":552,"./es-mx":553,"./es-mx.js":553,"./es-us":554,"./es-us.js":554,"./es.js":551,"./et":555,"./et.js":555,"./eu":556,"./eu.js":556,"./fa":557,"./fa.js":557,"./fi":558,"./fi.js":558,"./fil":559,"./fil.js":559,"./fo":560,"./fo.js":560,"./fr":561,"./fr-ca":562,"./fr-ca.js":562,"./fr-ch":563,"./fr-ch.js":563,"./fr.js":561,"./fy":564,"./fy.js":564,"./ga":565,"./ga.js":565,"./gd":566,"./gd.js":566,"./gl":567,"./gl.js":567,"./gom-deva":568,"./gom-deva.js":568,"./gom-latn":569,"./gom-latn.js":569,"./gu":570,"./gu.js":570,"./he":571,"./he.js":571,"./hi":572,"./hi.js":572,"./hr":573,"./hr.js":573,"./hu":574,"./hu.js":574,"./hy-am":575,"./hy-am.js":575,"./id":576,"./id.js":576,"./is":577,"./is.js":577,"./it":578,"./it-ch":579,"./it-ch.js":579,"./it.js":578,"./ja":580,"./ja.js":580,"./jv":581,"./jv.js":581,"./ka":582,"./ka.js":582,"./kk":583,"./kk.js":583,"./km":584,"./km.js":584,"./kn":585,"./kn.js":585,"./ko":586,"./ko.js":586,"./ku":587,"./ku.js":587,"./ky":588,"./ky.js":588,"./lb":589,"./lb.js":589,"./lo":590,"./lo.js":590,"./lt":591,"./lt.js":591,"./lv":592,"./lv.js":592,"./me":593,"./me.js":593,"./mi":594,"./mi.js":594,"./mk":595,"./mk.js":595,"./ml":596,"./ml.js":596,"./mn":597,"./mn.js":597,"./mr":598,"./mr.js":598,"./ms":599,"./ms-my":600,"./ms-my.js":600,"./ms.js":599,"./mt":601,"./mt.js":601,"./my":602,"./my.js":602,"./nb":603,"./nb.js":603,"./ne":604,"./ne.js":604,"./nl":605,"./nl-be":606,"./nl-be.js":606,"./nl.js":605,"./nn":607,"./nn.js":607,"./oc-lnc":608,"./oc-lnc.js":608,"./pa-in":609,"./pa-in.js":609,"./pl":610,"./pl.js":610,"./pt":611,"./pt-br":612,"./pt-br.js":612,"./pt.js":611,"./ro":613,"./ro.js":613,"./ru":614,"./ru.js":614,"./sd":615,"./sd.js":615,"./se":616,"./se.js":616,"./si":617,"./si.js":617,"./sk":618,"./sk.js":618,"./sl":619,"./sl.js":619,"./sq":620,"./sq.js":620,"./sr":621,"./sr-cyrl":622,"./sr-cyrl.js":622,"./sr.js":621,"./ss":623,"./ss.js":623,"./sv":624,"./sv.js":624,"./sw":625,"./sw.js":625,"./ta":626,"./ta.js":626,"./te":627,"./te.js":627,"./tet":628,"./tet.js":628,"./tg":629,"./tg.js":629,"./th":630,"./th.js":630,"./tk":631,"./tk.js":631,"./tl-ph":632,"./tl-ph.js":632,"./tlh":633,"./tlh.js":633,"./tr":634,"./tr.js":634,"./tzl":635,"./tzl.js":635,"./tzm":636,"./tzm-latn":637,"./tzm-latn.js":637,"./tzm.js":636,"./ug-cn":638,"./ug-cn.js":638,"./uk":639,"./uk.js":639,"./ur":640,"./ur.js":640,"./uz":641,"./uz-latn":642,"./uz-latn.js":642,"./uz.js":641,"./vi":643,"./vi.js":643,"./x-pseudo":644,"./x-pseudo.js":644,"./yo":645,"./yo.js":645,"./zh-cn":646,"./zh-cn.js":646,"./zh-hk":647,"./zh-hk.js":647,"./zh-mo":648,"./zh-mo.js":648,"./zh-tw":649,"./zh-tw.js":649};function r(t){var e=o(t);return n(e)}function o(t){if(!n.o(map,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return map[t]}r.keys=function(){return Object.keys(map)},r.resolve=o,t.exports=r,r.id=668},797:function(t,e,n){"use strict";n.r(e);var r=n(17),o=n(8),c=(n(36),n(13),n(24),n(30),n(18),n(25),n(50),n(511)),l=n(7);function j(t){return Object(l.a)({url:"banner",method:"GET",params:t})}var m=n(496),d=n.n(m),h=n(651),f=n(653),y=n(190);e.default={components:{CountDownTime:h.default},data:function(){return{categoryStyle:0,naveOn:null,goodList:[],banner:"",bannerList:[],categoryList:[],categorySublevel:[],recommendCategoryList:[],recommendGoodList:[],isSeckill:!1,seckill:[],seckillTime:0,seckillActiveTime:"",seckillLoading:!1}},asyncData:function(t){return Object(o.a)(regeneratorRuntime.mark((function e(){var time,n,o,l,m,h,f,v,k;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,time=d()().format("YYYY-MM-DD HH:00:00"),d()().format("HH")%2!=0&&(time=d()().subtract(1,"hour").format("YYYY-MM-DD HH:00:00")),n=(d()(time,"YYYY-MM-DD HH:00:00").add(2,"hour")-d()().valueOf())/1e3,e.next=6,Promise.all([Object(c.b)({limit:10,is_recommend:1}),j({limit:5,type:0,state:0,sort:"+sort"}),Object(c.c)({tree:!0}),Object(c.c)({is_recommend:1}),Object(y.a)(["seckill"])]);case 6:return o=e.sent,l=Object(r.a)(o,5),m=l[0],h=l[1],f=l[2],v=l[3],k=l[4],h.data.forEach((function(t){t.url=t.url?t.url.replace("?id=","/"):""})),e.abrupt("return",{goodList:m.data,bannerList:h.data,categoryList:f,recommendCategoryList:v,seckillActiveTime:d()(time,"YYYY-MM-DD HH:00:00").format("HH:00"),seckillTime:n,isSeckill:k.seckill});case 17:e.prev=17,e.t0=e.catch(0),t.$errorHandler(e.t0);case 20:case"end":return e.stop()}}),e,null,[[0,17]])})))()},mounted:function(){this.categoryGood(),this.getBanner(),this.isSeckill&&this.endSeckillTime()},methods:{naveCut:function(t){-1!==t&&(this.naveOn=t,this.categoryList[t].children?this.categoryList[t].children[0].resources?(this.categorySublevel=this.categoryList[t].children,this.categoryStyle=2):(this.categorySublevel=this.categoryList[t].children,this.categoryStyle=1):this.categorySublevel=[])},categoryGood:function(){var t=this;this.recommendCategoryList.forEach((function(e,n){t.recommendGoodList[n]=[],Object(c.b)({limit:10,category_id:e.id}).then((function(e){t.recommendGoodList[n]=e.data,t.$forceUpdate()}))}))},naveShiftOut:function(){this.naveOn=null,this.categoryStyle=0},getBanner:function(){var t=this;j({limit:1,type:1,state:0,sort:"+sort"}).then((function(e){t.banner=e.data[0],t.banner.url=t.banner.url?t.banner.url.replace("?id=","/"):""}))},endSeckillTime:function(){var t=this;this.seckillLoading=!0;var time=d()().format("YYYY-MM-DD HH:00:00");d()().format("HH")%2!=0&&(time=d()().subtract(1,"hour").format("YYYY-MM-DD HH:00:00")),this.seckillActiveTime=d()(time,"YYYY-MM-DD HH:00:00").format("HH:00"),this.seckillTime=(d()(time,"YYYY-MM-DD HH:00:00").add(2,"hour")-d()().valueOf())/1e3,Object(f.b)({limit:5,time:time,sort:"-id",state:1}).then((function(e){t.seckill=e.data})).finally((function(){t.seckillLoading=!1}))}}}}}]);