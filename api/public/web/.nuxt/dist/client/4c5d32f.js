(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{508:function(t,e,r){"use strict";r.d(e,"b",(function(){return o})),r.d(e,"a",(function(){return c})),r.d(e,"c",(function(){return d}));var n=r(8);function o(t){return Object(n.a)({url:"good",method:"GET",params:t})}function c(t){return Object(n.a)({url:"good/"+t,method:"GET"})}function d(t){return Object(n.a)({url:"goodCategory",method:"GET",params:t})}},654:function(t,e,r){"use strict";r.r(e);var n=r(17),o=r(7),c=(r(36),r(13),r(24),r(30),r(18),r(25),r(50),r(508)),d=r(8);function l(t){return Object(d.a)({url:"banner",method:"GET",params:t})}e.default={data:function(){return{categoryStyle:0,naveOn:null,goodList:[],banner:"",bannerList:[],categoryList:[],categorySublevel:[],recommendCategoryList:[],recommendGoodList:[]}},asyncData:function(t){return Object(o.a)(regeneratorRuntime.mark((function e(){var r,o,d,h,m,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([Object(c.b)({limit:10,is_recommend:1}),l({limit:5,type:0,state:0,sort:"+sort"}),Object(c.c)({tree:!0}),Object(c.c)({is_recommend:1})]);case 3:return r=e.sent,o=Object(n.a)(r,4),d=o[0],h=o[1],m=o[2],f=o[3],h.data.forEach((function(t){t.url=t.url?t.url.replace("?id=","/"):""})),e.abrupt("return",{goodList:d.data,bannerList:h.data,categoryList:m,recommendCategoryList:f});case 13:e.prev=13,e.t0=e.catch(0),t.$errorHandler(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))()},mounted:function(){this.categoryGood(),this.getBanner()},methods:{naveCut:function(t){-1!==t&&(this.naveOn=t,this.categoryList[t].children?this.categoryList[t].children[0].resources?(this.categorySublevel=this.categoryList[t].children,this.categoryStyle=2):(this.categorySublevel=this.categoryList[t].children,this.categoryStyle=1):this.categorySublevel=[])},categoryGood:function(){var t=this;this.recommendCategoryList.forEach((function(e,r){t.recommendGoodList[r]=[],Object(c.b)({limit:10,category_id:e.id}).then((function(e){t.recommendGoodList[r]=e.data,t.$forceUpdate()}))}))},naveShiftOut:function(){this.naveOn=null,this.categoryStyle=0},getBanner:function(){var t=this;l({limit:1,type:1,state:0,sort:"+sort"}).then((function(e){t.banner=e.data[0],t.banner.url=t.banner.url?t.banner.url.replace("?id=","/"):""}))}}}}}]);