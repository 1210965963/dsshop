(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{507:function(t,n,e){"use strict";e.d(n,"b",(function(){return d})),e.d(n,"c",(function(){return l})),e.d(n,"a",(function(){return f}));var o=e(7),r=e(19),c=e.n(r);function d(t){return Object(o.a)({url:"coupon",method:"GET",params:t})}function l(t){return Object(o.a)({url:"coupon/user",method:"GET",params:t})}function f(data){return data=c.a.parse(data),Object(o.a)({url:"coupon",method:"POST",data:data})}},680:function(t,n,e){"use strict";e.r(n);var o=e(17),r=e(8),c=(e(36),e(13),e(24),e(30),e(507));n.default={name:"CouponIndex",data:function(){return{tableLoading:!1,checkboxAll:!1,loading:!0,buttonLoading:!1,list:[],total:0,listQuery:{limit:10,page:1,sort:"-created_at"}}},mounted:function(){$nuxt.$store.state.hasLogin&&this.getList()},methods:{getList:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.loading=!0,n.next=3,Promise.all([Object(c.b)(t.listQuery)]).then((function(n){var data=Object(o.a)(n,1)[0];t.list=data.data,t.total=data.total,t.loading=!1})).catch((function(n){t.loading=!1}));case 3:case"end":return n.stop()}}),n)})))()},popover:function(){if(!$nuxt.$store.state.hasLogin)return $nuxt.$store.commit("loginCheck"),!1},getCreate:function(t){var n=this;this.buttonLoading=!0,Object(c.a)(t).then((function(){n.getList(),n.buttonLoading=!1,n.$message({message:"领取成功",type:"success"})}))}}}}}]);