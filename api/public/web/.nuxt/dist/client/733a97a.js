(window.webpackJsonp=window.webpackJsonp||[]).push([[75],{759:function(t,n,e){"use strict";e.r(n);var o=e(17),c=e(8),r=(e(36),e(13),e(24),e(30),e(18),e(124)),d=e(190);n.default={layout:"user",head:function(){return{title:"我的订单-个人中心"}},data:function(){return{tableLoading:!1,buttonLoading:!1,loading:!1,goodIndentList:[],total:0,isComment:!1,isGroupPurchase:!1,listQuery:{limit:10,page:1,index:"0",sort:"-created_at"}}},asyncData:function(t){return Object(c.a)(regeneratorRuntime.mark((function n(){var e,c,r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Promise.all([Object(d.a)(["comment","groupPurchase"])]);case 3:return e=n.sent,c=Object(o.a)(e,1),r=c[0],n.abrupt("return",{isComment:r.comment,isGroupPurchase:r.groupPurchase});case 9:n.prev=9,n.t0=n.catch(0),t.$errorHandler(n.t0);case 12:case"end":return n.stop()}}),n,null,[[0,9]])})))()},mounted:function(){$nuxt.$route.query.index&&(this.listQuery.index=$nuxt.$route.query.index),this.getList()},methods:{getList:function(){var t=this;return Object(c.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.loading=!0,n.next=3,Promise.all([Object(r.g)(t.listQuery)]).then((function(n){var e=Object(o.a)(n,1)[0];t.goodIndentList=e.data,e.data.forEach((function(t){t.goods_list.forEach((function(t){t.good_sku&&(t.good_sku.product_sku.forEach((function(n){t.specification?t.specification+=n.value+";":t.specification=n.value+";"})),t.specification=t.specification.substr(0,t.specification.length-1))}))})),t.total=e.total,t.loading=!1})).catch((function(n){t.loading=!1}));case 3:case"end":return n.stop()}}),n)})))()},getReloadList:function(){this.listQuery.page=1,this.getList()},cancelOrder:function(t){var n=this;this.$confirm("是否确认取消订单？","提示",{confirmButtonText:"确认",cancelButtonText:"取消",type:"warning"}).then((function(){n.buttonLoading=!0,Object(r.b)(t.id).then((function(t){n.buttonLoading=!1,n.$message({message:"取消成功",type:"success"}),n.getReloadList()})).catch((function(){n.buttonLoading=!1}))})).catch((function(){}))},deleteOrder:function(t){var n=this;this.$confirm("是否确认删除订单？","提示",{confirmButtonText:"确认",cancelButtonText:"取消",type:"warning"}).then((function(){n.buttonLoading=!0,Object(r.d)(t.id).then((function(t){n.buttonLoading=!1,n.$message({message:"删除成功",type:"success"}),n.getReloadList()})).catch((function(){n.buttonLoading=!1}))})).catch((function(){}))},confirmReceipt:function(t){var n=this;this.$confirm("是否确认收货？","提示",{confirmButtonText:"确认",cancelButtonText:"取消",type:"warning"}).then((function(){n.buttonLoading=!0,Object(r.j)(t.id).then((function(t){n.buttonLoading=!1,n.$message({message:"操作成功",type:"success"}),n.getReloadList()})).catch((function(){n.buttonLoading=!1}))})).catch((function(){}))}}}}}]);