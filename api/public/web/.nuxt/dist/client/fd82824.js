(window.webpackJsonp=window.webpackJsonp||[]).push([[58],{546:function(t,e,n){"use strict";n.d(e,"c",(function(){return l})),n.d(e,"b",(function(){return h})),n.d(e,"d",(function(){return d})),n.d(e,"a",(function(){return f}));var o=n(6),c=n(22),r=n.n(c);function l(t){return Object(o.a)({url:"notification",method:"GET",params:t})}function h(t){return Object(o.a)({url:"notification/detail/"+t,method:"GET"})}function d(data){return data=r.a.parse(data),Object(o.a)({url:"notification/read/0",method:"POST",data:data})}function f(data){return data=r.a.parse(data),Object(o.a)({url:"notification/destroy/0",method:"POST",data:data})}},598:function(t,e,n){"use strict";n.r(e);var o=n(7),c=n(3),r=(n(38),n(49),n(13),n(24),n(26),n(305),n(546));e.default={layout:"user",head:function(){return{title:"".concat(this.$t("header.top.message"),"-").concat(this.$t("header.top.personal_center"))}},data:function(){return{tableLoading:!1,checkboxAll:!1,loading:!0,buttonLoading:!1,noticeList:[],total:0,listQuery:{limit:10,page:1,sort:"-created_at",pc:!0},multipleSelection:[]}},mounted:function(){this.getList()},methods:{getList:function(){var t=this;return Object(c.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.tableLoading=!0,e.next=3,Promise.all([Object(r.c)(t.listQuery)]).then((function(e){var n=Object(o.a)(e,1)[0];t.noticeList=n.data,t.total=n.total,t.loading=!1,t.tableLoading=!1})).catch((function(e){t.loading=!1,t.tableLoading=!1}));case 3:case"end":return e.stop()}}),e)})))()},handleCheckAllChange:function(){this.$refs.table.toggleAllSelection()},handleSelectionChange:function(t){this.multipleSelection=t},handleAllDelete:function(){var t=this;if(0===this.multipleSelection.length)return this.$message({message:this.$t("notice.all_delete"),type:"error"}),!1;this.$confirm(this.$t("hint.whether_confirm",{attribute:this.$t("common.delete")}),this.$t("common.hint"),{confirmButtonText:this.$t("common.confirm"),cancelButtonText:this.$t("common.cancel"),type:"warning"}).then((function(){t.buttonLoading=!0,Object(r.a)(t.multipleSelection).then((function(e){t.buttonLoading=!1,t.handleFilter(),t.$message({message:t.$t("common.success"),type:"success"})})).catch((function(){t.buttonLoading=!1}))})).catch((function(){}))},handleAllRead:function(){var t=this;if(0===this.multipleSelection.length)return this.$message({message:this.$t("notice.all_delete"),type:"error"}),!1;this.buttonLoading=!0,Object(r.d)(this.multipleSelection).then((function(e){t.buttonLoading=!1,t.getList(),t.$message({message:t.$t("common.success"),type:"success"})})).catch((function(){t.buttonLoading=!1}))},sortChange:function(data){var t=data.prop,e=data.order;this.listQuery.sort="ascending"===e?"+"+t:"descending"===e?"-"+t:null,this.handleFilter()},handleFilter:function(){this.listQuery.page=1,this.getList()}}}}}]);