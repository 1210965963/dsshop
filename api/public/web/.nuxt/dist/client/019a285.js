(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{531:function(t,e,r){"use strict";r.d(e,"b",(function(){return o})),r.d(e,"a",(function(){return c})),r.d(e,"c",(function(){return l}));var n=r(6);function o(t){return Object(n.a)({url:"good",method:"GET",params:t})}function c(t){return Object(n.a)({url:"good/"+t,method:"GET"})}function l(t){return Object(n.a)({url:"goodCategory",method:"GET",params:t})}},601:function(t,e,r){"use strict";r.r(e);var n=r(7),o=r(3),c=(r(38),r(13),r(24),r(26),r(32),r(305),r(531));e.default={data:function(){return{list:[],listQuery:{},loading:!1,total:0,title:""}},asyncData:function(t){return Object(o.a)(regeneratorRuntime.mark((function e(){var r,o,l,h,d,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=t.query,o=t.params,l={limit:20,page:1,sort:"",category_id:o.id,title:r.title},e.next=5,Promise.all([Object(c.b)(l)]);case 5:return h=e.sent,d=Object(n.a)(h,1),f=d[0],e.abrupt("return",{list:f.data,total:f.total,listQuery:l,title:o.id?r.name:r.title});case 11:e.prev=11,e.t0=e.catch(0),t.$errorHandler(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))()},head:function(){return{title:this.title+(this.listQuery.category_id?"-".concat(this.$t("product.classify"),"-"):"-".concat(this.$t("product.search_result"),"-"))+"DSSHOP商城-轻量级易扩展低代码开源商城系统"}},watch:{"$route.query.title":{handler:function(t,e){this.title=this.listQuery.title=t,this.getList()},deep:!0}},methods:{getList:function(){var t=this;this.loading=!0,Promise.all([Object(c.b)(this.listQuery)]).then((function(e){var r=Object(n.a)(e,1)[0];t.list=r.data,t.total=r.total,t.loading=!1})).catch((function(e){t.loading=!1}))},tabClick:function(t){t?"sales"===t?this.listQuery.sort="-sales":"+order_price"!==this.listQuery.sort?this.listQuery.sort="+order_price":this.listQuery.sort="-order_price":this.listQuery.sort="",this.listQuery.page=1,this.getList()},handleSizeChange:function(t){this.listQuery.limit=t,this.getList()},handleCurrentChange:function(t){this.listQuery.page=t,this.getList()}}}}}]);