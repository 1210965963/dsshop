(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{594:function(t,n,e){"use strict";e.r(n);var o=e(7),c=e(3),r=(e(38),e(49),e(13),e(24),e(26),e(18),e(137));n.default={layout:"user",head:function(){return{title:"".concat(this.$t("header.top.order"),"-").concat(this.$t("header.top.personal_center"))}},data:function(){return{tableLoading:!1,buttonLoading:!1,loading:!1,goodIndentList:[],total:0,listQuery:{limit:10,page:1,index:"0",sort:"-created_at"}}},asyncData:function(t){return Object(c.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case 1:case"end":return t.stop()}}),t)})))()},mounted:function(){$nuxt.$route.query.index&&(this.listQuery.index=$nuxt.$route.query.index),this.getList()},methods:{getList:function(){var t=this;return Object(c.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.loading=!0,n.next=3,Promise.all([Object(r.g)(t.listQuery)]).then((function(n){var e=Object(o.a)(n,1)[0];t.goodIndentList=e.data,e.data.forEach((function(t){t.goods_list.forEach((function(t){t.good_sku&&(t.good_sku.product_sku.forEach((function(n){t.specification?t.specification+=n.value+";":t.specification=n.value+";"})),t.specification=t.specification.substr(0,t.specification.length-1))}))})),t.total=e.total,t.loading=!1})).catch((function(n){t.loading=!1}));case 3:case"end":return n.stop()}}),n)})))()},getReloadList:function(){this.listQuery.page=1,this.getList()},cancelOrder:function(t){var n=this;this.$confirm(this.$t("hint.whether_confirm",{attribute:this.$t("indent.cancel_order")}),this.$t("common.hint"),{confirmButtonText:this.$t("common.confirm"),cancelButtonText:this.$t("common.cancel"),type:"warning"}).then((function(){n.buttonLoading=!0,Object(r.b)(t.id).then((function(t){n.buttonLoading=!1,n.$message({message:n.$t("common.success"),type:"success"}),n.getReloadList()})).catch((function(){n.buttonLoading=!1}))})).catch((function(){}))},deleteOrder:function(t){var n=this;this.$confirm(this.$t("hint.whether_confirm",{attribute:this.$t("indent.delete_order")}),this.$t("common.hint"),{confirmButtonText:this.$t("common.confirm"),cancelButtonText:this.$t("common.cancel"),type:"warning"}).then((function(){n.buttonLoading=!0,Object(r.d)(t.id).then((function(t){n.buttonLoading=!1,n.$message({message:n.$t("common.success"),type:"success"}),n.getReloadList()})).catch((function(){n.buttonLoading=!1}))})).catch((function(){}))},confirmReceipt:function(t){var n=this;this.$confirm(this.$t("hint.whether_confirm",{attribute:this.$t("indent.receiving")}),this.$t("common.hint"),{confirmButtonText:this.$t("common.confirm"),cancelButtonText:this.$t("common.cancel"),type:"warning"}).then((function(){n.buttonLoading=!0,Object(r.j)(t.id).then((function(t){n.buttonLoading=!1,n.$message({message:n.$t("common.success"),type:"success"}),n.getReloadList()})).catch((function(){n.buttonLoading=!1}))})).catch((function(){}))}}}}}]);