(window.webpackJsonp=window.webpackJsonp||[]).push([[46,60],{509:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return c})),n.d(e,"c",(function(){return l}));var r=n(8);function o(t){return Object(r.a)({url:"good",method:"GET",params:t})}function c(t){return Object(r.a)({url:"good/"+t,method:"GET"})}function l(t){return Object(r.a)({url:"goodCategory",method:"GET",params:t})}},649:function(t,e,n){"use strict";n.r(e);n(291),n(91);var r={name:"BaseCounter",props:{time:{type:Number|String,default:0},refreshCounter:{type:Number|String,default:0},end:{type:Number|String,default:0},isMiniSecond:{type:Boolean,default:!1}},computed:{duration:function(){if(this.end){var t=String(this.end).length>=13?+this.end:1e3*+this.end;return t-=Date.now()}return this.isMiniSecond?Math.round(+this.time/1e3):Math.round(+this.time)}},data:function(){return{days:"0",hours:"00",mins:"00",seconds:"00",timer:null,curTime:0}},methods:{durationFormatter:function(time){if(!time)return{ss:0};var t=time,e=t%60;if((t=(t-e)/60)<1)return{ss:e};var n=t%60;if((t=(t-n)/60)<1)return{mm:n,ss:e};var r=t%24;return(t=(t-r)/24)<1?{hh:r,mm:n,ss:e}:{dd:t,hh:r,mm:n,ss:e}},countDown:function(){this.curTime=Date.now(),this.getTime(this.duration)},getTime:function(time){var t=this;if(this.timer&&clearTimeout(this.timer),time<0)this.$emit("end",!0);else{var e=this.durationFormatter(time),dd=e.dd,n=e.hh,r=e.mm,o=e.ss;this.days=dd||0,this.hours=n||0,this.mins=r||0,this.seconds=o||0,this.timer=setTimeout((function(){var e=Date.now(),n=Math.floor((e-t.curTime)/1e3),r=n>1?n:1;t.curTime=e,t.getTime(time-r)}),1e3)}}},mounted:function(){this.countDown()},watch:{duration:function(){this.countDown()},refreshCounter:function(){this.countDown()}}},o=n(6),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",[t._t("default",null,null,{d:t.days,h:t.hours,m:t.mins,s:t.seconds,hh:("00"+t.hours).slice(-2),mm:("00"+t.mins).slice(-2),ss:("00"+t.seconds).slice(-2)})],2)}),[],!1,null,null,null);e.default=component.exports},651:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return c}));var r=n(8);function o(t){return Object(r.a)({url:"seckill",method:"GET",params:t})}function c(t){return Object(r.a)({url:"seckill/"+t,method:"GET"})}},666:function(t,e,n){var map={"./af":513,"./af.js":513,"./ar":514,"./ar-dz":515,"./ar-dz.js":515,"./ar-kw":516,"./ar-kw.js":516,"./ar-ly":517,"./ar-ly.js":517,"./ar-ma":518,"./ar-ma.js":518,"./ar-sa":519,"./ar-sa.js":519,"./ar-tn":520,"./ar-tn.js":520,"./ar.js":514,"./az":521,"./az.js":521,"./be":522,"./be.js":522,"./bg":523,"./bg.js":523,"./bm":524,"./bm.js":524,"./bn":525,"./bn-bd":526,"./bn-bd.js":526,"./bn.js":525,"./bo":527,"./bo.js":527,"./br":528,"./br.js":528,"./bs":529,"./bs.js":529,"./ca":530,"./ca.js":530,"./cs":531,"./cs.js":531,"./cv":532,"./cv.js":532,"./cy":533,"./cy.js":533,"./da":534,"./da.js":534,"./de":535,"./de-at":536,"./de-at.js":536,"./de-ch":537,"./de-ch.js":537,"./de.js":535,"./dv":538,"./dv.js":538,"./el":539,"./el.js":539,"./en-au":540,"./en-au.js":540,"./en-ca":541,"./en-ca.js":541,"./en-gb":542,"./en-gb.js":542,"./en-ie":543,"./en-ie.js":543,"./en-il":544,"./en-il.js":544,"./en-in":545,"./en-in.js":545,"./en-nz":546,"./en-nz.js":546,"./en-sg":547,"./en-sg.js":547,"./eo":548,"./eo.js":548,"./es":549,"./es-do":550,"./es-do.js":550,"./es-mx":551,"./es-mx.js":551,"./es-us":552,"./es-us.js":552,"./es.js":549,"./et":553,"./et.js":553,"./eu":554,"./eu.js":554,"./fa":555,"./fa.js":555,"./fi":556,"./fi.js":556,"./fil":557,"./fil.js":557,"./fo":558,"./fo.js":558,"./fr":559,"./fr-ca":560,"./fr-ca.js":560,"./fr-ch":561,"./fr-ch.js":561,"./fr.js":559,"./fy":562,"./fy.js":562,"./ga":563,"./ga.js":563,"./gd":564,"./gd.js":564,"./gl":565,"./gl.js":565,"./gom-deva":566,"./gom-deva.js":566,"./gom-latn":567,"./gom-latn.js":567,"./gu":568,"./gu.js":568,"./he":569,"./he.js":569,"./hi":570,"./hi.js":570,"./hr":571,"./hr.js":571,"./hu":572,"./hu.js":572,"./hy-am":573,"./hy-am.js":573,"./id":574,"./id.js":574,"./is":575,"./is.js":575,"./it":576,"./it-ch":577,"./it-ch.js":577,"./it.js":576,"./ja":578,"./ja.js":578,"./jv":579,"./jv.js":579,"./ka":580,"./ka.js":580,"./kk":581,"./kk.js":581,"./km":582,"./km.js":582,"./kn":583,"./kn.js":583,"./ko":584,"./ko.js":584,"./ku":585,"./ku.js":585,"./ky":586,"./ky.js":586,"./lb":587,"./lb.js":587,"./lo":588,"./lo.js":588,"./lt":589,"./lt.js":589,"./lv":590,"./lv.js":590,"./me":591,"./me.js":591,"./mi":592,"./mi.js":592,"./mk":593,"./mk.js":593,"./ml":594,"./ml.js":594,"./mn":595,"./mn.js":595,"./mr":596,"./mr.js":596,"./ms":597,"./ms-my":598,"./ms-my.js":598,"./ms.js":597,"./mt":599,"./mt.js":599,"./my":600,"./my.js":600,"./nb":601,"./nb.js":601,"./ne":602,"./ne.js":602,"./nl":603,"./nl-be":604,"./nl-be.js":604,"./nl.js":603,"./nn":605,"./nn.js":605,"./oc-lnc":606,"./oc-lnc.js":606,"./pa-in":607,"./pa-in.js":607,"./pl":608,"./pl.js":608,"./pt":609,"./pt-br":610,"./pt-br.js":610,"./pt.js":609,"./ro":611,"./ro.js":611,"./ru":612,"./ru.js":612,"./sd":613,"./sd.js":613,"./se":614,"./se.js":614,"./si":615,"./si.js":615,"./sk":616,"./sk.js":616,"./sl":617,"./sl.js":617,"./sq":618,"./sq.js":618,"./sr":619,"./sr-cyrl":620,"./sr-cyrl.js":620,"./sr.js":619,"./ss":621,"./ss.js":621,"./sv":622,"./sv.js":622,"./sw":623,"./sw.js":623,"./ta":624,"./ta.js":624,"./te":625,"./te.js":625,"./tet":626,"./tet.js":626,"./tg":627,"./tg.js":627,"./th":628,"./th.js":628,"./tk":629,"./tk.js":629,"./tl-ph":630,"./tl-ph.js":630,"./tlh":631,"./tlh.js":631,"./tr":632,"./tr.js":632,"./tzl":633,"./tzl.js":633,"./tzm":634,"./tzm-latn":635,"./tzm-latn.js":635,"./tzm.js":634,"./ug-cn":636,"./ug-cn.js":636,"./uk":637,"./uk.js":637,"./ur":638,"./ur.js":638,"./uz":639,"./uz-latn":640,"./uz-latn.js":640,"./uz.js":639,"./vi":641,"./vi.js":641,"./x-pseudo":642,"./x-pseudo.js":642,"./yo":643,"./yo.js":643,"./zh-cn":644,"./zh-cn.js":644,"./zh-hk":645,"./zh-hk.js":645,"./zh-mo":646,"./zh-mo.js":646,"./zh-tw":647,"./zh-tw.js":647};function r(t){var e=o(t);return n(e)}function o(t){if(!n.o(map,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return map[t]}r.keys=function(){return Object.keys(map)},r.resolve=o,t.exports=r,r.id=666},795:function(t,e,n){"use strict";n.r(e);var r=n(17),o=n(7),c=(n(36),n(13),n(24),n(30),n(18),n(25),n(50),n(509)),l=n(8);function j(t){return Object(l.a)({url:"banner",method:"GET",params:t})}var m=n(494),d=n.n(m),h=n(649),f=n(651),y=n(189);e.default={components:{CountDownTime:h.default},data:function(){return{categoryStyle:0,naveOn:null,goodList:[],banner:"",bannerList:[],categoryList:[],categorySublevel:[],recommendCategoryList:[],recommendGoodList:[],isSeckill:!1,seckill:[],seckillTime:0,seckillActiveTime:"",seckillLoading:!1}},asyncData:function(t){return Object(o.a)(regeneratorRuntime.mark((function e(){var time,n,o,l,m,h,k,v,Y,D;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,time=d()().format("YYYY-MM-DD HH:00:00"),d()().format("HH")%2!=0&&(time=d()().subtract(1,"hour").format("YYYY-MM-DD HH:00:00")),n=(d()(time,"YYYY-MM-DD HH:00:00").add(2,"hour")-d()().valueOf())/1e3,e.next=6,Promise.all([Object(c.b)({limit:10,is_recommend:1}),j({limit:5,type:0,state:0,sort:"+sort"}),Object(c.c)({tree:!0}),Object(c.c)({is_recommend:1}),Object(y.a)(["seckill"])]);case 6:if(o=e.sent,l=Object(r.a)(o,5),m=l[0],h=l[1],k=l[2],v=l[3],Y=l[4],h.data.forEach((function(t){t.url=t.url?t.url.replace("?id=","/"):""})),D=null,!Y.seckill){e.next=19;break}return e.next=18,Promise.all([Object(f.b)({limit:5,time:time,sort:"-id",state:1})]);case 18:D=e.sent;case 19:return e.abrupt("return",{goodList:m.data,bannerList:h.data,categoryList:k,recommendCategoryList:v,seckillActiveTime:d()(time,"YYYY-MM-DD HH:00:00").format("HH:00"),seckillTime:n,seckill:D?D.data:"",isSeckill:Y.seckill});case 22:e.prev=22,e.t0=e.catch(0),t.$errorHandler(e.t0);case 25:case"end":return e.stop()}}),e,null,[[0,22]])})))()},mounted:function(){this.categoryGood(),this.getBanner()},methods:{naveCut:function(t){-1!==t&&(this.naveOn=t,this.categoryList[t].children?this.categoryList[t].children[0].resources?(this.categorySublevel=this.categoryList[t].children,this.categoryStyle=2):(this.categorySublevel=this.categoryList[t].children,this.categoryStyle=1):this.categorySublevel=[])},categoryGood:function(){var t=this;this.recommendCategoryList.forEach((function(e,n){t.recommendGoodList[n]=[],Object(c.b)({limit:10,category_id:e.id}).then((function(e){t.recommendGoodList[n]=e.data,t.$forceUpdate()}))}))},naveShiftOut:function(){this.naveOn=null,this.categoryStyle=0},getBanner:function(){var t=this;j({limit:1,type:1,state:0,sort:"+sort"}).then((function(e){t.banner=e.data[0],t.banner.url=t.banner.url?t.banner.url.replace("?id=","/"):""}))},endSeckillTime:function(){var t=this;this.seckillLoading=!0;var time=d()().format("YYYY-MM-DD HH:00:00");d()().format("HH")%2!=0&&(time=d()().subtract(1,"hour").format("YYYY-MM-DD HH:00:00")),this.seckillActiveTime=d()(time,"YYYY-MM-DD HH:00:00").format("HH:00"),this.seckillTime=(d()(time,"YYYY-MM-DD HH:00:00").add(2,"hour")-d()().valueOf())/1e3,Object(f.b)({limit:5,time:time,sort:"-id",state:1}).then((function(e){t.seckill=e.data})).finally((function(){t.seckillLoading=!1}))}}}}}]);