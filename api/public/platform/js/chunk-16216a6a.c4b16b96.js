(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-16216a6a"],{"2af4":function(e,t,r){},"6ef1":function(e,t,r){"use strict";r("2af4")},"75bf":function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"m20 p20 bg-white"},[r("el-form",{ref:"form",staticClass:"mb50",attrs:{"label-position":"right","label-width":"120px",model:e.form,size:"small"}},[r("el-form-item",{attrs:{label:"商品名：",prop:"name",verify:{maxLen:30}}},[r("el-input",{staticStyle:{width:"500px"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}}),r("div",{staticClass:"f12 f-grey"},[e._v("商品名称，建议30字以内")])],1),r("el-form-item",{attrs:{label:"商品描述：",prop:"describe",verify:{maxLen:60}}},[r("el-input",{staticStyle:{width:"500px"},model:{value:e.form.describe,callback:function(t){e.$set(e.form,"describe",t)},expression:"form.describe"}}),r("div",{staticClass:"f12 f-grey"},[e._v(" 在商品详情页标题下面展示卖点信息，建议60字以内 ")])],1),r("el-form-item",{attrs:{label:"商品封面：",prop:"cover",verify:""}},[r("Imgpond",{attrs:{count:1},model:{value:e.form.cover,callback:function(t){e.$set(e.form,"cover",t)},expression:"form.cover"}}),r("div",{staticClass:"f12 f-grey"},[e._v("建议尺寸：800*800像素")])],1),r("el-form-item",{attrs:{label:"商品图：",prop:"imgList",verify:""}},[r("Imgpond",{attrs:{count:10},model:{value:e.form.imgList,callback:function(t){e.$set(e.form,"imgList",t)},expression:"form.imgList"}}),r("div",{staticClass:"f12 f-grey"},[e._v(" 建议尺寸：800*800像素，你可以拖拽图片调整顺序，最多上传10张 ")])],1),r("el-form-item",{attrs:{label:"价格：",prop:"price",verify:{gte:0,type:"数字"}}},[r("el-input",{staticStyle:{width:"150px"},model:{value:e.form.price,callback:function(t){e.$set(e.form,"price",t)},expression:"form.price"}})],1),r("el-form-item",{attrs:{label:"划线价：",prop:"originalPrice",verify:{gte:0,type:"数字"}}},[r("el-input",{staticStyle:{width:"150px"},model:{value:e.form.originalPrice,callback:function(t){e.$set(e.form,"originalPrice",t)},expression:"form.originalPrice"}})],1),r("el-form-item",{attrs:{label:"商品详情："}},[r("MiniMCE",{staticStyle:{width:"800px"},model:{value:e.form.richText,callback:function(t){e.$set(e.form,"richText",t)},expression:"form.richText"}})],1)],1),r("div",{staticClass:"operation"},[r("el-button",{staticClass:"f-white bg-theme",attrs:{size:"small"},on:{click:function(t){return e.submit()}}},[e._v("保存商品")])],1)],1)},a=[],o=r("1da1"),s=r("5530"),n=(r("96cf"),r("2f62")),c=r("c40e"),l={created:function(){var e=this.$route.params;e.price=e.price?e.price/100:0,e.originalPrice=e.originalPrice?e.originalPrice/100:0,this.form=e},data:function(){return{form:{}}},computed:Object(s["a"])({},Object(n["b"])(["project"])),methods:{submit:function(){var e=this;this.$refs["form"].validate((function(t){t&&(e.form.id?e.edit():e.add())}))},add:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r,i,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.formatParams(Object(s["a"])({projectId:e.project.id},e.form)),t.next=3,Object(c["a"])(r);case 3:i=t.sent,a=i.status,"10000"==a&&(e.$notify({title:"成功",message:"商品发布成功",type:"success"}),e.$router.push({name:"goods-manager"}));case 6:case"end":return t.stop()}}),t)})))()},edit:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(c["c"])(e.formatParams(e.form));case 2:r=t.sent,i=r.status,"10000"==i&&(e.$notify({title:"成功",message:"商品修改成功",type:"success"}),e.$router.push({name:"goods-manager"}));case 5:case"end":return t.stop()}}),t)})))()},formatParams:function(e){var t=this.$cloneDeep(e);return t.price=100*t.price,t.originalPrice=100*t.originalPrice,t}}},m=l,f=(r("6ef1"),r("2877")),u=Object(f["a"])(m,i,a,!1,null,"3a8ec6c8",null);t["default"]=u.exports}}]);
//# sourceMappingURL=chunk-16216a6a.c4b16b96.js.map