(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-00294d54"],{"066a":function(e,t,r){},3948:function(e,t,r){"use strict";r("066a")},c6f7:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"login"},[r("div",{staticClass:"login-content"},[r("div",{staticClass:"login-content-left"},[r("ul",{staticClass:"flex col-bottom mb60"},e._l(e.tabs,(function(t){return r("li",{key:t.value,staticClass:"tab mr20",class:[e.active==t.value?"tab-active":""],on:{click:function(r){e.active=t.value}}},[e._v(" "+e._s(t.label)+" ")])})),0),"login"==e.active?[r("el-form",{ref:"login",attrs:{model:e.loginForm,"label-width":"0"}},[r("el-form-item",{staticClass:"mb40",attrs:{prop:"account",verify:{minLen:8,maxLen:16,typeOptions:["字母|数字"]}}},[r("el-input",{attrs:{placeholder:"请输入账户名"},model:{value:e.loginForm.account,callback:function(t){e.$set(e.loginForm,"account",t)},expression:"loginForm.account"}})],1),r("el-form-item",{staticClass:"mb70",attrs:{prop:"password",verify:{passwordOptions:[6,18,"字母|数字"]}}},[r("el-input",{attrs:{placeholder:"输入密码登录","show-password":""},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1)],1),r("el-button",{staticClass:"w-100 h48 f-white bg-theme r3 f18 lb-4",attrs:{type:"primary"},on:{click:e.login}},[e._v("登录")]),r("div",{staticClass:"flex row-right mt25 f15 f-theme pointer",on:{click:function(t){e.active="register"}}},[e._v(" 免费注册 ")])]:e._e(),"register"==e.active?[r("el-form",{ref:"register",attrs:{model:e.registerForm,"label-width":"0"}},[r("el-form-item",{staticClass:"mb40",attrs:{prop:"account",verify:{minLen:8,maxLen:16,typeOptions:["字母|数字"]}}},[r("el-input",{attrs:{placeholder:"请输入注册账户"},model:{value:e.registerForm.account,callback:function(t){e.$set(e.registerForm,"account",t)},expression:"registerForm.account"}})],1),r("el-form-item",{staticClass:"mb40",attrs:{prop:"password",verify:{passwordOptions:[6,18,"字母|数字"]}}},[r("el-input",{attrs:{placeholder:"请输入注册密码","show-password":""},model:{value:e.registerForm.password,callback:function(t){e.$set(e.registerForm,"password",t)},expression:"registerForm.password"}})],1),r("el-form-item",{staticClass:"mb70",attrs:{prop:"userName",verify:{maxLen:10}}},[r("el-input",{attrs:{placeholder:"请输入用户名"},model:{value:e.registerForm.userName,callback:function(t){e.$set(e.registerForm,"userName",t)},expression:"registerForm.userName"}})],1)],1),r("el-button",{staticClass:"w-100 h48 f-white bg-theme r3 f18 lb-4",attrs:{type:"primary"},on:{click:e.register}},[e._v("注册")])]:e._e()],2),e._m(0)])])},s=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login-content-right"},[n("img",{staticClass:"w-100",attrs:{src:r("dc7c")}})])}],a=r("1da1"),i=r("5530"),o=(r("96cf"),r("2f62")),c=r("b775"),l=function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(c["a"])({url:"/login",method:"POST",data:t}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(c["a"])({url:"/register",method:"POST",data:t}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m={name:"login",created:function(){this.logout()},data:function(){return{active:"login",loginForm:{account:"pang12345",password:"abcd123456"},registerForm:{account:"",password:"",userName:""},tabs:[{label:"密码登录",value:"login"},{label:"免费注册",value:"register"}]}},watch:{active:{handler:function(e){switch(e){case"login":this.loginForm={account:"",password:""};break;case"register":this.registerForm={account:"",password:"",userName:""};break;default:break}}}},methods:Object(i["a"])(Object(i["a"])({},Object(o["c"])(["setToken","setUserInfo","logout"])),{},{login:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$refs["login"].validate(function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(r){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!r){t.next=5;break}return t.next=3,l(e.loginForm);case 3:n=t.sent,"10000"==n.status?(e.$notify({title:"登陆成功",message:"快去体验可视化给构建商城吧！",type:"success"}),e.setToken(n.token),e.setUserInfo(n.userInfo),e.$router.push({name:"managet"})):e.$notify({title:"登录失败",message:n.message,type:"warning"});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t)})))()},register:function(){var e=this;this.$refs["register"].validate(function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(r){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!r){t.next=5;break}return t.next=3,u(e.registerForm);case 3:n=t.sent,"10000"==n.status?(e.$notify({title:"注册成功",message:"账户已注册成功，快去登录使用吧",type:"success"}),e.active="login",setTimeout((function(){e.$refs["login"].resetFields()}),0)):e.$notify({title:"注册失败",type:"warning",message:n.message});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}})},p=m,f=(r("3948"),r("2877")),g=Object(f["a"])(p,n,s,!1,null,"d5d7bc10",null);t["default"]=g.exports},dc7c:function(e,t,r){e.exports=r.p+"img/logo.5d3427c6.jpeg"}}]);
//# sourceMappingURL=chunk-00294d54.16f94f6b.js.map