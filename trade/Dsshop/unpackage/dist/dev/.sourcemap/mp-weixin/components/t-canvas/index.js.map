{"version":3,"sources":["webpack:///D:/www/tifaweb/trade/Decoration/components/t-canvas/index.vue?792d","webpack:///D:/www/tifaweb/trade/Decoration/components/t-canvas/index.vue?b875","webpack:///D:/www/tifaweb/trade/Decoration/components/t-canvas/index.vue?7834","webpack:///D:/www/tifaweb/trade/Decoration/components/t-canvas/index.vue?a7b2","webpack:///D:/www/tifaweb/trade/Decoration/components/t-canvas/index.vue","webpack:///D:/www/tifaweb/trade/Decoration/components/t-canvas/index.vue?cdea","webpack:///D:/www/tifaweb/trade/Decoration/components/t-canvas/index.vue?6821"],"names":["canvasw","canvash","uni","getSystemInfo","success","res","windowWidth","windowHeight","name","props","width","type","Number","default","height","unit","String","print","Boolean","canvasData","Array","data","ctx","y","itemY","line","watch","newVal","createCanvas","created","methods","createCanvasContext","rect","setFillStyle","fillRect","length","forEach","item","index","block","drawBlock","drawContent","draw","getTempFilePath","canvasToTempFilePath","canvasId","console","log","x","son","drawTextData","drawTable","drawBox","obj","text","color","fillStyle","size","fontSize","align","textAlign","baseline","textBaseline","bold","paddingLeftRight","padding","textWrap","itemHeight","getTextLineList","item2x","item2","index2","subshare","share","paddingTop","line2","getTextLine","strokeStyle","setStrokeStyle","strokeRect","lineHeight","drawText","save","setFontSize","setTextAlign","setTextBaseline","fillText","restore","arrText","split","arrTr","i","testLine","metrics","measureText","objWidth","push","tr","txt","substring"],"mappings":"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","file":"components/t-canvas/index.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=83b188ec&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../下载/HBuilderX.2.2.1.20190813/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"www/tifaweb/trade/Decoration/components/t-canvas/index.vue\"\nexport default component.exports","export * from \"-!../../../../../../下载/HBuilderX.2.2.1.20190813/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../下载/HBuilderX.2.2.1.20190813/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../下载/HBuilderX.2.2.1.20190813/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../下载/HBuilderX.2.2.1.20190813/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../下载/HBuilderX.2.2.1.20190813/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../下载/HBuilderX.2.2.1.20190813/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=83b188ec&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../下载/HBuilderX.2.2.1.20190813/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../下载/HBuilderX.2.2.1.20190813/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../下载/HBuilderX.2.2.1.20190813/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../下载/HBuilderX.2.2.1.20190813/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../下载/HBuilderX.2.2.1.20190813/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../下载/HBuilderX.2.2.1.20190813/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../下载/HBuilderX.2.2.1.20190813/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../下载/HBuilderX.2.2.1.20190813/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../下载/HBuilderX.2.2.1.20190813/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../下载/HBuilderX.2.2.1.20190813/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n\r\nvar canvasw = 0;\r\n\tvar canvash = 0;\r\n\tuni.getSystemInfo({\r\n\t\tsuccess: function(res) {\r\n\t\t\tcanvasw = res.windowWidth;\r\n\t\t\tcanvash = res.windowHeight;\r\n\t\t},\r\n\t})\r\nexport default{\r\n\tname: 'TCanvas',\r\n\tprops: {\r\n\t\twidth: {\r\n\t\t\ttype: Number,\r\n\t\t\tdefault: 210 //210\r\n\t\t},\r\n\t\theight: {\r\n\t\t\ttype: Number,\r\n\t\t\tdefault: 297 //297\r\n\t\t},\r\n\t\tunit: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: 'px' //mm\r\n\t\t},\r\n\t\tprint: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: false\r\n\t\t},\r\n\t\tcanvasData: {\r\n\t\t\ttype: Array,\r\n\t\t\tdefault: function(){\r\n\t\t\t\treturn [];\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tctx: null,\r\n\t\t\ty: 0,\r\n\t\t\titemY: 0,\r\n\t\t\tline: 1\r\n\t\t};\r\n\t},\r\n\twatch: {\r\n\t\tcanvasData(newVal) {\r\n\t\t\tthis.canvasData = newVal\r\n\t\t\tthis.createCanvas()\r\n\t\t}\r\n\t},\r\n\tcreated() {\r\n\t\tthis.createCanvas()\r\n\t},\r\n\tmethods:{\r\n\t\tcreateCanvas(){\r\n\t\t\tconst canvasData = this.canvasData\r\n\t\t\tthis.ctx = uni.createCanvasContext('canvas')\r\n\t\t\t/* 绘制背景*/\r\n\t\t\tthis.ctx.rect(0, 0, this.width, this.height)\r\n\t\t\tthis.ctx.setFillStyle('white')\r\n\t\t\tthis.ctx.fillRect(0, 0, this.width, this.height)\r\n\t\t\tif(canvasData.length > 0){\r\n\t\t\t\tcanvasData.forEach((item,index)=>{\r\n\t\t\t\t\tthis.itemY = 0\r\n\t\t\t\t\tconst height = item.height ? item.height : 20\r\n\t\t\t\t\tconst itemY = item.y ? item.y : 0\r\n\t\t\t\t\tif(index === 0){\r\n\t\t\t\t\t\tthis.y = this.y + itemY\r\n\t\t\t\t\t\tthis.itemY = itemY\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthis.y = this.y + itemY +height\r\n\t\t\t\t\t\tthis.itemY = itemY +height\r\n\t\t\t\t\t}\r\n\t\t\t\t\titem.y = this.y\r\n\t\t\t\t\tif(item.block){\r\n\t\t\t\t\t\tthis.drawBlock(item)\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthis.drawContent(item)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\tthis.ctx.draw(true)\r\n\t\t},\r\n\t\t//获取临时路径\r\n\t\tgetTempFilePath() {\r\n\t\t    uni.canvasToTempFilePath({\r\n\t\t      canvasId: 'canvas',\r\n\t\t      success: (res) => {\r\n\t\t        console.log(res)\r\n\t\t      }\r\n\t\t    })\r\n\t\t},\r\n\t\t\r\n\t\t// 渲染区块\r\n\t\tdrawBlock(data){\r\n\t\t\tif(data){\r\n\t\t\t\tconst x = data.x ? data.x : 0\r\n\t\t\t\tconst y = data.y ? data.y : 0\r\n\t\t\t\tconst block = data.block\r\n\t\t\t\tconst width = (this.width-x)/block\t//每块的宽度\r\n\t\t\t\tdata.son.forEach((item,index)=>{\r\n\t\t\t\t\titem.x = item.x ? item.x + width*index+x : width*index+x\r\n\t\t\t\t\titem.y = item.y ? item.y + y : y\r\n\t\t\t\t\tthis.drawContent(item)\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\t\r\n\t\t},\r\n\t\t// 渲染内容\r\n\t\tdrawContent(item){\r\n\t\t\tswitch(item.type){\r\n\t\t\t\tcase 'text':\r\n\t\t\t\tthis.drawTextData(item)\r\n\t\t\t\tbreak\r\n\t\t\t\tcase 'table':\r\n\t\t\t\tthis.drawTable(item)\r\n\t\t\t\tbreak\r\n\t\t\t\tcase 'box':\r\n\t\t\t\tthis.drawBox(item)\r\n\t\t\t\tthis.y-= this.itemY\r\n\t\t\t\tbreak\r\n\t\t\t}\r\n\t\t},\r\n\t\t/**\r\n\t\t * 渲染文本\r\n\t\t *\r\n\t\t * @param {Object} obj\r\n\t\t */\r\n\t\tdrawTextData(obj){\r\n\t\t\tlet text = {\r\n\t\t\t\t  x: obj.x ? obj.x : 0,\r\n\t\t\t\t  y: obj.y ? obj.y : 0,\r\n\t\t\t\t  color: obj.fillStyle ? obj.fillStyle : '#000',\r\n\t\t\t\t  size: obj.fontSize ? obj.fontSize : 12,\r\n\t\t\t\t  align: obj.textAlign ? obj.textAlign : 'left',\r\n\t\t\t\t  height: obj.height ? obj.height : 20,\r\n\t\t\t\t  line: obj.line ? obj.line : 1,\r\n\t\t\t\t  width: obj.width ? obj.width : this.width,\r\n\t\t\t\t  baseline: obj.textBaseline ? obj.textBaseline: 'top',\r\n\t\t\t\t  text: obj.text,\r\n\t\t\t\t  bold: obj.bold ? obj.bold : false,\r\n\t\t\t\t  paddingLeftRight: obj.paddingLeftRight ? obj.paddingLeftRight : 0,\r\n\t\t\t\t  padding: obj.padding ? obj.padding : 0\r\n\t\t\t\t}\r\n\t\t\tif(obj.align === 'center'){\r\n\t\t\t\ttext.x = (text.width - text.x)/2\r\n\t\t\t\ttext.align = 'center'\r\n\t\t\t} else if(obj.align === 'right'){\r\n\t\t\t\ttext.x = (text.width - text.x)\r\n\t\t\t\ttext.align = 'right'\r\n\t\t\t}\r\n\t\t\tthis.textWrap(text)\r\n\t\t},\r\n\t\t/**\r\n\t\t * 渲染表格\r\n\t\t *\r\n\t\t * @param {Object} obj\r\n\t\t */\r\n\t\tdrawTable(obj){\r\n\t\t\tconst x = obj.x ? obj.x : 0\r\n\t\t\tconst y = obj.y ? obj.y : 0\r\n\t\t\tlet padding = obj.padding ? obj.padding : 0\r\n\t\t\tif(obj.son){\r\n\t\t\t\tobj.son.forEach((item,index)=>{\r\n\t\t\t\t\tpadding = item.padding = item.padding ? item.padding : padding\r\n\t\t\t\t\tconst itemHeight = item.height ? item.height : 20\r\n\t\t\t\t\t//根据表格内容算出当前行的高度\r\n\t\t\t\t\tif(item.son){\r\n\t\t\t\t\t\tthis.line=this.getTextLineList(item.son,x)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(index>0){\r\n\t\t\t\t\t\tthis.y+= (itemHeight + padding*2)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlet width =(this.width-x*2)/item.son.length\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(item.type === 'th' && item.son){\r\n\t\t\t\t\t\tlet item2x = x\r\n\t\t\t\t\t\titem.son.forEach((item2,index2)=>{\r\n\t\t\t\t\t\t\tpadding = item2.padding = item2.padding ? item2.padding : padding\r\n\t\t\t\t\t\t\tif(item.subshare){\r\n\t\t\t\t\t\t\t\twidth = (this.width-x*2)/item.subshare * item2.share\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\titem2.x = item2x\r\n\t\t\t\t\t\t\titem2x+=width\r\n\t\t\t\t\t\t\titem2.y = item2.y ? item2.y : 0\r\n\t\t\t\t\t\t\titem2.y = y\r\n\t\t\t\t\t\t\titem2.width = width\r\n\t\t\t\t\t\t\titem2.padding = padding\r\n\t\t\t\t\t\t\titem2.paddingTop = item2.paddingTop ? item2.paddingTop : item.paddingTop\r\n\t\t\t\t\t\t\titem2.paddingLeftRight = item2.paddingLeftRight ? item2.paddingLeftRight : item.paddingLeftRight\r\n\t\t\t\t\t\t\tthis.drawBox(item2)\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tlet item2x = x\r\n\t\t\t\t\t\titem.son.forEach((item2,index2)=>{\r\n\t\t\t\t\t\t\tpadding = item2.padding = item2.padding ? item2.padding : padding\r\n\t\t\t\t\t\t\tif(item.subshare){\r\n\t\t\t\t\t\t\t\twidth = (this.width-x*2)/item.subshare * item2.share\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\titem2.x = item2x\r\n\t\t\t\t\t\t\titem2x+=width\r\n\t\t\t\t\t\t\titem2.y = item2.y ? item2.y : 0\r\n\t\t\t\t\t\t\titem2.y = y\r\n\t\t\t\t\t\t\titem2.width = width\r\n\t\t\t\t\t\t\titem2.padding = padding\r\n\t\t\t\t\t\t\titem2.paddingTop = item2.paddingTop ? item2.paddingTop : item.paddingTop\r\n\t\t\t\t\t\t\titem2.paddingLeftRight = item2.paddingLeftRight ? item2.paddingLeftRight : item.paddingLeftRight\r\n\t\t\t\t\t\t\tthis.drawBox(item2)\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(this.line>1){\r\n\t\t\t\t\t\tthis.y+=(this.line)*itemHeight\r\n\t\t\t\t\t\tthis.y-= this.itemY\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t},\r\n\t\t/**\r\n\t\t * 获取当前行最大高度\r\n\t\t * @param {Object} obj\r\n\t\t * @return {Array} arrTr\r\n\t\t */ \r\n\t\t getTextLineList(obj,x){\r\n\t\t\t let line = 1\r\n\t\t\t let line2 = 1\r\n\t\t\t let height = 20\r\n\t\t\t let padding = obj.padding ? obj.padding : 0\r\n\t\t\t obj.forEach(item=>{\r\n\t\t\t\tconst width =(this.width-x*2)/obj.length\r\n\t\t\t\titem.width = width\r\n\t\t\t\tline2 = this.getTextLine(item).length\r\n\t\t\t\tif(line2>item.line){\r\n\t\t\t\t\tline2 = item.line\r\n\t\t\t\t}\r\n\t\t\t\tif(line2>line){\r\n\t\t\t\t\tline = line2\r\n\t\t\t\t}\r\n\t\t\t })\r\n\t\t\t \r\n\t\t\treturn line\r\n\t\t },\r\n\t\t/**\r\n\t\t * 渲染带边框的内容\r\n\t\t *\r\n\t\t * @param {Object} obj\r\n\t\t */\r\n\t\tdrawBox(obj){\r\n\t\t\tconst strokeStyle = obj.strokeStyle ? obj.strokeStyle : '#000'\r\n\t\t\tconst x = obj.x ? obj.x : 0\r\n\t\t\tlet y = obj.y ? obj.y : 0\r\n\t\t\tconst height = 0\r\n\t\t\tconst align = obj.align ? obj.align : ''\r\n\t\t\tconst width = obj.width ? obj.width : this.width-2*x\r\n\t\t\tconst padding = obj.padding ? obj.padding : 0\r\n\t\t\tif(obj.son){\t//多行\r\n\t\t\t\tthis.y+= obj.son.length*20 + padding*2\r\n\t\t\t\tthis.ctx.setStrokeStyle(strokeStyle)\r\n\t\t\t\tthis.ctx.strokeRect(x, y, width, obj.son.length*20 + padding*2)\r\n\t\t\t\tobj.son.forEach((item,index)=>{\r\n\t\t\t\t\tconst itemHeight = item.height ? item.height : 20\r\n\t\t\t\t\tif(padding){\t//内边距\r\n\t\t\t\t\t\ty = y + itemHeight * index\r\n\t\t\t\t\t\tif(index === 0){\r\n\t\t\t\t\t\t\ty = y + padding\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\titem.x = x + obj.padding\r\n\t\t\t\t\t\titem.y = y\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\ty = y + itemHeight * index\r\n\t\t\t\t\t\titem.y = y\r\n\t\t\t\t\t\titem.x = x\r\n\t\t\t\t\t}\r\n\t\t\t\t\titem.align = item.align ? item.align : align\r\n\t\t\t\t\tthis.drawTextData(item)\r\n\t\t\t\t})\r\n\t\t\t}else{\t//表格\r\n\t\t\t\tlet lineHeight=(20 + padding*2)*this.line\r\n\t\t\t\t// this.y+=padding\r\n\t\t\t\tthis.ctx.setStrokeStyle(strokeStyle)\r\n\t\t\t\tthis.ctx.strokeRect(x, this.y, width, lineHeight)\r\n\t\t\t\tconst itemHeight = obj.height ? obj.height : 20\r\n\t\t\t\tif(obj.paddingLeftRight){\r\n\t\t\t\t\tobj.x = x + obj.paddingLeftRight\r\n\t\t\t\t}else{\r\n\t\t\t\t\tobj.x = x\r\n\t\t\t\t}\r\n\t\t\t\tif(obj.paddingTop){\r\n\t\t\t\t\tobj.y = this.y + obj.paddingTop\r\n\t\t\t\t}else{\r\n\t\t\t\t\tobj.y = this.y + padding\r\n\t\t\t\t}\r\n\t\t\t\tif(obj.align === 'center'){\r\n\t\t\t\t\tobj.x = obj.x + width/2\r\n\t\t\t\t\tobj.textAlign = 'center'\r\n\t\t\t\t} else if(obj.align === 'right'){\r\n\t\t\t\t\tobj.x = obj.x + width\r\n\t\t\t\t\tobj.textAlign = 'right'\r\n\t\t\t\t}\r\n\t\t\t\tobj.align = ''\r\n\t\t\t\tthis.drawTextData(obj)\r\n\t\t\t}\r\n\t\t},\r\n\t\t/**\r\n\t\t * 渲染文字\r\n\t\t *\r\n\t\t * @param {Object} obj\r\n\t\t */\r\n\t\t  drawText(obj) {\r\n\t\t    this.ctx.save();\r\n\t\t    this.ctx.setFillStyle(obj.color);\r\n\t\t    this.ctx.setFontSize(obj.size);\r\n\t\t    this.ctx.setTextAlign(obj.align);\r\n\t\t    this.ctx.setTextBaseline(obj.baseline);\r\n\t\t    if (obj.bold) {\r\n\t\t      this.ctx.fillText(obj.text, obj.x, obj.y - 0.1);\r\n\t\t      this.ctx.fillText(obj.text, obj.x - 0.1, obj.y);\r\n\t\t    }\r\n\t\t    this.ctx.fillText(obj.text, obj.x, obj.y);\r\n\t\t    if (obj.bold) {\r\n\t\t      this.ctx.fillText(obj.text, obj.x, obj.y + 0.1);\r\n\t\t      this.ctx.fillText(obj.text, obj.x + 0.1, obj.y);\r\n\t\t    }\r\n\t\t    this.ctx.restore();\r\n\t\t  },\r\n\t\t/**\r\n\t\t * 获取文本折行\r\n\t\t * @param {Object} obj\r\n\t\t * @return {Array} arrTr\r\n\t\t */\r\n\t\t  getTextLine(obj) {\r\n\t\t    this.ctx.setFontSize(obj.size);\r\n\t\t    let arrText = obj.text.split('');\r\n\t\t    let line = '';\r\n\t\t    let arrTr = [];\t\r\n\t\t    for (let i = 0; i < arrText.length; i++) {\r\n\t\t      var testLine = line + arrText[i];\r\n\t\t      var metrics = this.ctx.measureText(testLine);\r\n\t\t      var width = metrics.width\r\n\t\t\t  \r\n\t\t\t  \r\n\t\t\t  // let objWidth = obj.width-obj.paddingLeftRight*2\r\n\t\t\t  let objWidth = obj.width\r\n\t\t\t  if(obj.align === 'left' || obj.align === 'right'){\r\n\t\t\t\tobjWidth = objWidth - obj.paddingLeftRight*2\r\n\t\t\t  }\r\n\t\t      if (width > objWidth && i > 0) {\r\n\t\t        arrTr.push(line);\r\n\t\t        line = arrText[i];\r\n\t\t      } else {\r\n\t\t        line = testLine;\r\n\t\t      }\r\n\t\t\t  \r\n\t\t      if (i == arrText.length - 1) {\r\n\t\t        arrTr.push(line);\r\n\t\t      }\r\n\t\t    }\r\n\t\t    return arrTr;\r\n\t\t  },\r\n\t\t/**\r\n\t\t * 文本换行\r\n\t\t *\r\n\t\t * @param {Object} obj\r\n\t\t */\r\n\t\t  textWrap(obj) {\r\n\t\t    let tr = this.getTextLine(obj);\r\n\t\t    for (let i = 0; i < tr.length; i++) {\r\n\t\t      if (i < obj.line) {\r\n\t\t        let txt = {\r\n\t\t          x: obj.x,\r\n\t\t          y: obj.y + (i * obj.height),\r\n\t\t          color: obj.color,\r\n\t\t          size: obj.size,\r\n\t\t          align: obj.align,\r\n\t\t          baseline: obj.baseline,\r\n\t\t          text: tr[i],\r\n\t\t          bold: obj.bold\r\n\t\t        }\r\n\t\t\t\t\r\n\t\t        if (tr.length > obj.line){\r\n\t\t          if (i == obj.line - 1) {\r\n\t\t            txt.text = txt.text.substring(0, txt.text.length - 3) + '......';\r\n\t\t          }\r\n\t\t        }\r\n\t\t        \r\n\t\t        this.drawText(txt);\r\n\t\t      }\r\n\t\t    }\r\n\t\t  }\r\n\t},\r\n\r\n}\r\n","import mod from \"-!../../../../../../下载/HBuilderX.2.2.1.20190813/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../下载/HBuilderX.2.2.1.20190813/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../下载/HBuilderX.2.2.1.20190813/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../下载/HBuilderX.2.2.1.20190813/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../下载/HBuilderX.2.2.1.20190813/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../下载/HBuilderX.2.2.1.20190813/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../下载/HBuilderX.2.2.1.20190813/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../下载/HBuilderX.2.2.1.20190813/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../下载/HBuilderX.2.2.1.20190813/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../下载/HBuilderX.2.2.1.20190813/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../下载/HBuilderX.2.2.1.20190813/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../下载/HBuilderX.2.2.1.20190813/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../下载/HBuilderX.2.2.1.20190813/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../下载/HBuilderX.2.2.1.20190813/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../下载/HBuilderX.2.2.1.20190813/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../下载/HBuilderX.2.2.1.20190813/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../下载/HBuilderX.2.2.1.20190813/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../下载/HBuilderX.2.2.1.20190813/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1590383414870\n      var cssReload = require(\"D:/下载/HBuilderX.2.2.1.20190813/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}